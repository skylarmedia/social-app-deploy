(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/skylar_Icon_wingPortion.b1ca3ff5.svg"},290:function(e,t,a){e.exports=a(684)},295:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},525:function(e,t,a){},526:function(e,t){},527:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){e.exports=a.p+"static/media/check.5d1fa9cf.svg"},631:function(e,t,a){},632:function(e,t,a){},633:function(e,t,a){},634:function(e,t,a){e.exports=a.p+"static/media/repeat-grid.1b3a5737.svg"},635:function(e,t,a){e.exports=a.p+"static/media/arrow.cab4dd14.svg"},658:function(e,t,a){},659:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},663:function(e,t){},664:function(e,t){},665:function(e,t){},666:function(e,t,a){},682:function(e,t,a){},683:function(e,t,a){},684:function(e,t,a){"use strict";a.r(t);for(var n=a(0),s=a.n(n),r=a(17),o=a.n(r),l=(a(295),a(20)),c=a(70),i=s.a.createContext(null),u=function(e){return function(t){return s.a.createElement(i.Consumer,null,function(a){return s.a.createElement(e,Object.assign({},t,{firebase:a}))})}},d=i,m=a(6),h=a(78),p=a.n(h),g=(a(368),a(370),a(280),a(374),a(376),{apiKey:"AIzaSyB4seBRXpVJ3dZDfCddTWze8UCYEVZ8qkc",authDomain:"skylar-social-17190.firebaseapp.com",databaseURL:"https://skylar-social-17190.firebaseio.com",projectId:"skylar-social-17190",storageBucket:"skylar-social-17190.appspot.com",messagingSenderId:"861778122764",appId:"1:861778122764:web:682881979cd4294e"}),b=function e(){var t=this;Object(m.a)(this,e),this.storage=this.storage,this.getCurrentUser=function(){alert(t.auth.currentUser.uid)},this.listenChatChanges=function(e){return t.db.collection("chats").doc(e).collection("messages")},this.approvePost=function(e,a,n){return t.db.collection("users").doc(e).collection("posts").doc(a).update({approved:n})},this.getSinglePost=function(e,a,n,s){return t.db.collection("users").doc(e).collection("posts").where("month","==",a).where("day","==",n).get()},this.getPostImages=function(){return t.storage.refFromURL("gs://skylar-social-17190.appspot.com/test123/logo")},this.addLogoUrl=function(e,a){return t.db.collection("users").doc(e).add({logoUrl:a},function(e){console.log(e,"err")})},this.getMessages=function(e,a,n){return t.db.collection("chats").doc(e).collection("messages").where("month","==",a).where("day","==",n).get()},this.sendCategories=function(e,t){t.forEach(function(t){p.a.firestore().collection("users").doc(e).collection("categories").add({categories:t})})},this.adminSendMessage=function(e,a,n,s,r){return t.db.collection("chats").doc(e).collection("messages").add({message:r,month:a,day:n,title:s,logo:"https://skylarmedia.ca/wp-content/uploads/2018/12/SkylarMG_Icon_RGB-1.svg"})},this.getAdminPost=function(e,a){return t.db.collection("users").doc(e).collection("posts").doc(a).get()},this.getAll=function(e){return t.db.collection("users").doc(e).get()},this.getUserCategories=function(e){return t.db.collection("users").doc(e).collection("categories").get()},this.postMessage=function(e,a,n,s,r){return t.db.collection("chats").doc(e).collection("messages").add({month:a,day:n,title:s,message:r,user:"Admin",logo:"https://skylarmedia.ca/wp-content/uploads/2018/12/SkylarMG_Icon_RGB-1.svg"})},this.getUniqueClientPosts=function(e,a){return t.db.collection("users").doc(e).collection("posts").where("month","==",a).get()},this.deletePost=function(e,a){return t.db.collection("users").doc(e).collection("posts").doc(a).delete()},this.getPostId=function(e){return t.db.collection("clients").doc(e).collection("posts")},this.client=function(e){return t.db.ref("clients/".concat(e))},this.getSocialPosts=function(e,a){return t.db.collection("users").doc(e).collection("posts").get()},this.getClients=function(){return t.db.collection("users").where("status","==",1).where("admin","==",0).get()},this.getPostId=function(e){return t.db.collection("clients").doc(e).collection("posts").get()},this.addClient=function(){return t.db.collection("clients")},this.getDates=function(e){return t.db.collection("users").doc(e).collection("dates").get()},this.deleteDate=function(e,a){return t.db.collection("users").doc(e).collection("dates").doc(a).delete()},this.addDate=function(e,a,n){return t.db.collection("users").doc(e).collection("dates").add({month:a,year:n})},this.getUID=function(e){return t.db.collection("users").where("urlName","==",e).get()},this.addUser=function(e,a,n,s){return t.auth.createUserWithEmailAndPassword(e,a).then(function(a){return t.auth.currentUser.updateProfile({photoURL:s,displayName:n}),t.db.collection("users").doc(n.toLowerCase().replace(/ /g,"-")).set({name:n,logo:s,status:1,userId:a.user.uid,admin:0,email:e,urlName:n.toLowerCase().replace(/ /g,"-")})})},this.editPostFirebase=function(e,a){return t.db.collection("users").doc(e).collection("posts").doc(a).get()},this.editPostFirebase=function(e,a){return t.db.collection("users").doc(e).collection("posts").doc(a).get()},this.editPostSubmit=function(e,a,n,s,r,o,l,c){return t.db.collection("users").doc(e).collection("posts").doc(a).update({title:n,copy:s,hashtags:r,time:o,links:l,selectedCategory:c})},this.addPost=function(e,a,n,s,r,o,l,c,i,u,d,m){return t.db.collection("users").doc(e).collection("posts").add({title:a,copy:n,hashtags:s,time:r,day:o,month:l,links:c,metaImageFiles:i,friendlyUrl:u,approved:d,selectedCategory:m})},this.deleteClient=function(e){return t.db.collection("users").doc(e).update({status:0})},this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a).then(function(e){return t.db.collection("users").where("email","==",e.user.email).get()})},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.writeUserData=function(e,a){t.database().ref().set({image:e,name:a})},p.a.initializeApp(g),this.auth=p.a.auth(),this.db=p.a.firestore(),this.storage=p.a.storage(),this.functions=p.a.functions()},f=s.a.createContext(null),v=a(7),E=a(10),y=a(8),C=a(9),w=function(e){var t=function(t){function a(e){var t;return Object(m.a)(this,a),(t=Object(E.a)(this,Object(y.a)(a).call(this,e))).state={authUser:null},t}return Object(C.a)(a,t),Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return s.a.createElement(f.Provider,{value:this.state.authUser},s.a.createElement(e,this.props))}}]),a}(s.a.Component);return u(t)},O=a(18),j=function(e){return function(t){var a=function(a){function n(){return Object(m.a)(this,n),Object(E.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(C.a)(n,a),Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.props.history.push("/")}),console.log(this.props,"props in auth")}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return s.a.createElement(f.Consumer,null,function(n){return e(n)?s.a.createElement(t,a.props):null})}}]),n}(s.a.Component);return Object(O.a)(c.e,u)(a)}},S=(a(387),u(function(e){var t=e.firebase;return s.a.createElement("button",{type:"button",onClick:t.doSignOut,className:"sign-out-btn"},"Sign Out")})),k=function(e){return s.a.createElement("div",{id:"auth-nav-wrapper"},s.a.createElement("ul",{id:"nav-id"},s.a.createElement("li",null,s.a.createElement(l.b,{to:"/"},"Landing")),s.a.createElement("li",null,s.a.createElement(l.b,{to:"/home"},"Home")),s.a.createElement("li",null,s.a.createElement(l.b,{to:"/account"},"Account")),s.a.createElement("li",null,s.a.createElement(S,null))),s.a.createElement("div",null,s.a.createElement("img",{src:e.authUser.photoURL,class:"nav-avatar"}),s.a.createElement("p",null,e.authUser.displayName)))},N=function(){return s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(l.b,{to:"/"},"Landing")),s.a.createElement("li",null,s.a.createElement(l.b,{to:"/signin"},"Sign In")))},I=function(e){e.authUser;return s.a.createElement(f.Consumer,null,function(e){return e?s.a.createElement(k,{authUser:e,id:"page-wrap"}):s.a.createElement(N,{id:"page-wrap"})})},M=a(49),T=a(26),D={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onChange=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){var t=a.state,n=(t.username,t.email),s=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(n,s).then(function(e){console.log(e,"auth users"),alert("ran auth user"),a.setState(Object(M.a)({},D))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.state=Object(M.a)({},D),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,r=e.passwordTwo,o=e.error,l=n!==r||""===n||""===a||""===t;return s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),s.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),s.a.createElement("input",{name:"passwordTwo",value:r,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),s.a.createElement("button",{disabled:l,type:"submit"},"Sign Up"),o&&s.a.createElement("p",null,o.message))}}]),t}(n.Component),P=(Object(O.a)(c.e,u)(x),a(33)),U=(a(388),a(714)),A=(a(5),a(710)),F=a(711),H={email:"",password:"",error:null,loading:!1},Y=(new Date).getMonth(),L=(new Date).getFullYear(),R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onSubmit=function(e){a.setState({loading:!a.state.loading});var t=a.state,n=t.email,s=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,s).then(function(e){1==e.docs[0].data().admin?a.props.history.push({pathname:"/home",state:{userId:e.docs[0].data().userId}}):(localStorage.setItem("userId",e.docs[0].data().urlName),a.props.history.push({pathname:"/client-calendar/".concat(a.state.year,"/").concat(a.state.month),state:{userId:e.docs[0].data().urlName}}))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},H,{month:Y+1,year:L}),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log(this.props,"props for settings user");var e=this.state,t=e.email,n=e.password,r=e.error,o=""===n||""===t;return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:a(116),id:"wing-logo"}),s.a.createElement("form",{onSubmit:this.onSubmit,className:"d-flex flex-column align-items-center"},s.a.createElement(U.a,{name:"email",label:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address",margin:"normal",variant:"outlined"}),s.a.createElement(U.a,{name:"password",value:n,label:"password",onChange:this.onChange,type:"password",variant:"outlined",placeholder:"Password"}),s.a.createElement("div",{id:"sign-in-button-wrap"},s.a.createElement(A.a,{disabled:o,type:"submit",variant:"contained",color:"primary",id:"sign-in-button"},"Sign In")),r&&s.a.createElement("p",null,r.message)),this.state.loading&&s.a.createElement(F.a,null))}}]),t}(n.Component),W=Object(O.a)(c.e,u,Object(P.b)(null,function(e){return{onSetUserId:function(t){return e({type:"SET_USER_ID",authUser:t})}}}))(R),_=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"sign-in-wrapper",className:"d-flex justify-content-center align-items-center flex-column"},s.a.createElement(W,null)))},J=a(16),G=a(14),B=(a(216),a(516),a(258),a(84)),q=a.n(B),z=a(712),V=(a(525),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).updateInput=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.deleteUser=function(e,t){a.props.firebase.deleteClient(e),a.setState({users:a.state.users.filter(function(e,a){return a!==t})})},a.addClient=function(e){e.preventDefault(),a.setState({name:"",image:"",data:a.state.data,isHidden:!a.state.isHidden}),a.props.firebase.getClients().then(function(e){a.props.getAllClients(e.docs)})},a.retrieveUsers=function(){a.props.firebase.getClients().then(function(e){a.setState({users:e.docs})})},a.handleLogoUpload=function(e){var t=Array.from(e.target.files);a.setState({file:t[0]})},a.addFile=function(e){a.setState({file:e.target.files[0],backgroundUrl:""},function(){a.state.firestorageRef.ref().child("".concat(a.state.username,"/logo/")).put(a.state.file).then(function(e){console.log(e,"snapshot in it");var t="https://firebasestorage.googleapis.com/v0/b/skylar-social-17190.appspot.com/o/".concat(encodeURIComponent(e.metadata.fullPath),"?alt=media");a.setState({backgroundUrl:t,uploadComplete:!0})})}),console.log(a.state.file,"file upload")},a.onChange=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.props.firebase.addUser(a.state.email,a.state.passwordOne,a.state.username,a.state.backgroundUrl);var t={};t.logo=a.state.backgroundUrl,t.name=a.state.username,t.urlName=a.state.username.toLowerCase().replace(/ /g,"-"),a.setState({isHidden:!a.state.isHidden,users:[].concat(Object(J.a)(a.state.users),[t]),backgroundUrl:"",username:"",passwordOne:"",email:"",file:null})},a.state={isLoading:!1,isHidden:!1,name:"",image:"",users:[],file:null,username:"",email:"",passwordOne:"",error:null,firestorageRef:a.props.firebase.storage,adminEmail:"",backgroundUrl:"",uploadComplete:!1},a.baseState=a.state,a.toggleAddNew=a.toggleAddNew.bind(Object(G.a)(a)),a.handleLogoUpload=a.handleLogoUpload.bind(Object(G.a)(a)),a.addFile=a.addFile.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"getPosts",value:function(){}},{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getClients().then(function(t){var a=t.docs,n=Object(J.a)(e.state.users);a.map(function(e){n.push(e.data())}),e.setState({users:n,isLoading:!e.state.isLoading})})}},{key:"componentWillUnmount",value:function(){this.setState({file:null,username:""})}},{key:"toggleAddNew",value:function(){this.setState({isHidden:!this.state.isHidden,file:null,backgroundUrl:"",username:""})}},{key:"render",value:function(){var e=this;console.log(this,"props in homepage");var t={backgroundImage:"url(".concat(this.state.backgroundUrl,")"),backgroundSize:"cover"},n=""===this.state.passwordOne||""===this.state.email||""===this.state.username||!1===this.state.uploadComplete;return console.log(this.state.file,"file upload after render"),s.a.createElement("div",{id:"home-page",className:"container"},s.a.createElement("img",{src:a(116),id:"wing-logo"}),s.a.createElement("h2",{className:"text-center welcome"},"Welcome Home!"),this.state.isLoading&&this.state.users.length>0?s.a.createElement("div",null,s.a.createElement("p",{className:"text-center"},"What client do you want to work on today?"),s.a.createElement("div",{id:"client-list",className:"row"},this.state.users.map(function(t,a){return s.a.createElement("div",{"data-id":t.userId,className:"client-wrapper flex-column d-flex",key:a},s.a.createElement("button",{className:"delete-button",onClick:function(){return e.deleteUser(t.urlName,a)}},s.a.createElement(z.a,{disabled:!0,"aria-label":"Delete"},s.a.createElement(q.a,null))),s.a.createElement(l.b,{to:"/dates/".concat(t.urlName)},t.name),s.a.createElement(l.b,{to:"/dates/".concat(t.urlName)},s.a.createElement("img",{src:t.logo,className:"user-background"})))})),s.a.createElement("div",{id:"add-new-btn-wrapper",className:"text-center"},s.a.createElement("button",{onClick:this.toggleAddNew.bind(this),className:"add-date-btn"},"Add New"))):this.state.isLoading&&0==this.state.users.length?s.a.createElement("div",null,s.a.createElement("div",{className:"empty-state"},s.a.createElement("div",{className:"row justify-content-between"},s.a.createElement("div",{className:"dashed"}),s.a.createElement("div",{className:"dashed"}),s.a.createElement("div",{className:"dashed"}),s.a.createElement("div",{className:"dashed"})),s.a.createElement("p",{className:"text-center"},"You don\u2019t seem to have any client calendars set up yet.",s.a.createElement("br",null),"Click below to add one and get started!")),s.a.createElement("div",{id:"add-new-btn-wrapper",className:"text-center mt-88"},s.a.createElement("button",{onClick:this.toggleAddNew.bind(this),className:"add-date-btn"},"Add New"))):s.a.createElement("div",{className:"progress-wrapper"},s.a.createElement(F.a,null)),this.state.isHidden?s.a.createElement("div",{id:"add-new-form-wrapper"},s.a.createElement("button",{onClick:this.toggleAddNew.bind(this),id:"x-add-new",className:"toggle-close"},"x"),s.a.createElement("form",{onSubmit:this.onSubmit,id:"add-new-form"},s.a.createElement("div",{id:"avatar-upload",className:"d-flex align-items-end justify-content-center",style:t}),s.a.createElement(U.a,{margin:"normal",variant:"outlined",name:"username",value:this.state.username,onChange:this.onChange,type:"text",label:"Name",style:{borderColor:"red"}}),s.a.createElement(U.a,{margin:"normal",variant:"outlined",name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address",label:"Email",InputProps:{style:{borderColor:"red"}}}),s.a.createElement(U.a,{margin:"normal",variant:"outlined",name:"passwordOne",value:this.state.passwordOne,onChange:this.onChange,type:"password",placeholder:"Password",label:"Password"}),s.a.createElement("input",{type:"file",onChange:this.addFile}),s.a.createElement("div",{id:"add-new-btn-wrapper",className:"text-center mt-88"},s.a.createElement("button",{disabled:n,type:"submit",className:"add-date-btn"},"Add New")),this.state.error&&s.a.createElement("p",null,this.state.error.message))):"")}}]),t}(n.Component)),Z=j(Object(O.a)(u))(V),K=(a(526),function(e){function t(e){return Object(m.a)(this,t),Object(E.a)(this,Object(y.a)(t).call(this,e))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(l.b,{to:"/add-new"},"Add New"))}}]),t}(n.Component)),X=a(21),$=a.n(X),Q=(a(527),a(528),0),ee=200,te=!1,ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).toggleIsHidden=function(){var e=Object(G.a)(a);Q=setTimeout(function(){te||e.doClickAction(),te=!1},ee)},a.truncate=function(e){return e.length>200?"".concat(e.substring(0,200),"..."):e},a.handleColor=function(e){if(void 0!==e)return e.split("|||")[1]},a.state={isHiddenCalendar:!1,clientId:"",image:""},a.toggleIsHidden=a.toggleIsHidden.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=window.location.href,t=new URL(e).searchParams.get("clientId");this.setState({clientId:t})}},{key:"componentDidUpdate",value:function(e,t,a){console.log(e,"prev props")}},{key:"doClickAction",value:function(){this.setState({isHiddenCalendar:!this.state.isHiddenCalendar})}},{key:"doDoubleClickAction",value:function(){var e=this.props.title.replace(/ /g,"-").toLowerCase();this.props.push.push("/admin-view-post/".concat(this.props.month,"/").concat(this.props.day,"/").concat(e,"/").concat(this.props.clientId,"/").concat(this.props.itemId))}},{key:"handleDoubleClick",value:function(){clearTimeout(Q),te=!0,this.doDoubleClickAction()}},{key:"render",value:function(){var e=this,t=(this.props.title.replace(/\s+/g,"-"),this.props.month,this.props.day,{background:this.handleColor(this.props.selectedCategory)});return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:this.toggleIsHidden,onDoubleClick:this.handleDoubleClick.bind(this),style:t},this.props.title),this.state.isHiddenCalendar&&s.a.createElement("div",{class:"hidden-post"},s.a.createElement("div",null,s.a.createElement("p",null,e.props.title),s.a.createElement("p",null,e.truncate(e.props.copy)),s.a.createElement("p",null,e.props.time),s.a.createElement("p",{className:"mb-0"},e.props.hashtags.map(function(e){return s.a.createElement("span",null,"#",e," ")})),s.a.createElement(l.b,{to:"/edit-post/".concat(e.props.month,"/").concat(e.props.day,"/").concat(e.props.itemId,"/").concat(e.props.clientId)},"Edit Post"))))}}]),t}(n.Component),ne=Object(O.a)(u(ae)),se=(a(529),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).toggleShowCalendarModule=function(){alert("ran")},a.toggleShowCalendarModule=function(){a.setState({showCalendarModule:!a.state.showCalendarModule})},a.truncate=function(e){return e.length>200?"".concat(e.substring(0,200),"..."):e},a.state={posts:[],showCalendarModule:!1},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"calendar-popup-wrapper"},s.a.createElement("p",{className:"calendar-single-day"},this.props.day),s.a.createElement("br",null),this.props.posts.map(function(t,n){if(t.data().month==e.props.month&&t.data().day===e.props.day)return s.a.createElement("div",{class:"hidden-calendar-wrapper d-flex flex-column"},t.data().approved?s.a.createElement("img",{src:a(530),className:"check"}):"not approved",s.a.createElement(ne,{title:t.data().title,copy:t.data().copy,time:t.data().time,hashtags:t.data().hashtags,links:t.data().links,day:t.data().day,month:t.data().month,itemId:t.id,push:e.props.history,clientId:e.props.clientId,selectedCategory:t.data().selectedCategory}))}))}}]),t}(n.Component)),re=Object(O.a)(u(se)),oe=a(34),le=a(189),ce=(a(631),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).submitCategories=function(e){e.preventDefault();var t={categories:{}},n={};t.categories.color=a.state.color,t.categories.name=a.state.name,n.color=a.state.color,n.name=a.state.name,a.setState({setCategories:[].concat(Object(J.a)(a.state.setCategories),[t]),sendCategory:[].concat(Object(J.a)(a.state.sendCategory),[n])})},a.handleChangeComplete=function(e){a.setState({color:e.hex})},a.selectCategory=function(e){a.setState({name:e.target.value})},a.removeCategory=function(e){var t=e.target.getAttribute("data-index"),n=Object(J.a)(a.state.setCategories);n.splice(t,1),a.setState({setCategories:n})},a.passCategories=function(e){e.preventDefault(),a.props.getCategories(a.state.setCategories,a.state.sendCategory)},a.state={setCategories:[],name:"",categoryName:"",category:{},color:"#EF463B ",sendCategory:[]},a.removeCategory=a.removeCategory.bind(Object(G.a)(a)),a.passCategories=a.passCategories.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.setCategories.map(function(t,a){var n={background:t.categories.color};return s.a.createElement("li",{key:a,className:"category-list-item"},s.a.createElement("button",{onClick:e.removeCategory,"data-index":a},s.a.createElement(q.a,{className:"delete-category"})),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("div",{className:"hex-color",style:n}),s.a.createElement("p",Object(T.a)({className:"mb-0"},"className",""),t.categories.name)))});return s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{id:"selected-categories"},t),s.a.createElement("form",{onSubmit:this.passCategories},s.a.createElement(le.SketchPicker,{color:this.state.color,onChangeComplete:this.handleChangeComplete.bind(this)}),s.a.createElement("input",{type:"text",onChange:this.selectCategory.bind(this)}),s.a.createElement("button",{onClick:this.submitCategories},"Add Categories"),s.a.createElement("button",{onClick:this.passCategories},"Submit")))}}]),t}(n.Component)),ie=Object(O.a)(u(ce)),ue=(a(632),function(e){return s.a.createElement("div",null,e.colors.map(function(e,t){var a={background:e.categories.color};return s.a.createElement("div",{key:t},s.a.createElement("div",null,s.a.createElement("div",{className:"category-color",style:a},e.categories.name)))}))}),de=window.location.search.substr(1).split("&"),me={},he=0;he<de.length;he++){var pe=de[he].split("=");me[decodeURIComponent(pe[0])]=decodeURIComponent(pe[1])}me.year,me.month;var ge=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).weekdayshort=$.a.weekdaysShort(),a.daysInMonth=function(){return a.state.dateObject.daysInMonth()},a.year=function(){return a.state.dateObject.format("Y")},a.currentDay=function(){return a.state.dateObject.format("D")},a.firstDayOfMonth=function(){var e=a.state.dateObject;return $()(e).startOf("month").format("d")},a.month=function(){return a.state.dateObject.format("MMMM")},a.showMonth=function(e,t){a.setState({showMonthTable:!a.state.showMonthTable,showCalendarTable:!a.state.showCalendarTable})},a.setMonth=function(e){var t=a.state.allmonths.indexOf(e),n=Object.assign({},a.state.dateObject);n=$()(n).set("month",t),a.setState({dateObject:n,showMonthTable:!a.state.showMonthTable,showCalendarTable:!a.state.showCalendarTable})},a.MonthList=function(e){var t=[];e.data.map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setMonth(e)}},s.a.createElement("span",null,e)))});var n=[],r=[];t.forEach(function(e,t){t%3!==0||0==t?r.push(e):(n.push(r),(r=[]).push(e))}),n.push(r);var o=n.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Month"))),s.a.createElement("tbody",null,o))},a.showYearEditor=function(){a.setState({showYearNav:!0,showCalendarTable:!a.state.showCalendarTable})},a.onPrev=function(){var e="";e=1==a.state.showMonthTable?"year":"month",a.setState({dateObject:a.state.dateObject.subtract(1,e)}),a.props.history.push("/calendar/2019/".concat(parseInt(a.props.match.params.month)-1,"/").concat(a.props.match.params.clientId))},a.onNext=function(){var e="";e=1==a.state.showMonthTable?"year":"month",a.props.history.push("/calendar/2019/".concat(parseInt(a.props.match.params.month)+1,"/").concat(a.props.match.params.clientId)),a.props.firebase.getSocialPosts(a.props.match.params.clientId,a.props.match.params.month).then(function(e){a.setState({posts:e.docs})}),a.setState({dateObject:a.state.dateObject.add(1,e)})},a.setYear=function(e){var t=Object.assign({},a.state.dateObject);t=$()(t).set("year",e),a.setState(Object(T.a)({dateObject:t,showMonthTable:!a.state.showMonthTable,showYearNav:!a.state.showYearNav},"showMonthTable",!a.state.showMonthTable))},a.onYearChange=function(e){a.setYear(e.target.value)},a.YearTable=function(e){var t=[],n=$()().set("year",e).add("year",12).format("Y");a.getDates(e,n).map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setYear(e)}},s.a.createElement("span",null,e)))});var r=[],o=[];t.forEach(function(e,t){t%3!==0||0==t?o.push(e):(r.push(o),(o=[]).push(e))}),r.push(o);var l=r.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Yeah"))),s.a.createElement("tbody",null,l))},a.onDayClick=function(e,t){a.setState({selectedDay:t},function(){})},a.getClientId=function(){var e=window.location.href;return new URL(e).searchParams.get("clientId")},a.removeCategory=function(e){Object(J.a)(a.state.categories);alert("ran")},a.showCategories=function(e){e.preventDefault(),a.setState({showCat:!a.state.showCat})},a.sendCategories=function(e,t){var n=Object(J.a)(a.state.categories);e.map(function(e){n.push(e)}),a.setState({showCat:!a.state.showCat,categories:n}),a.props.firebase.sendCategories(a.props.match.params.clientId,t)},a.state={showCalendarTable:!0,showMonthTable:!1,dateObject:$()("".concat(a.props.match.params.year,"-").concat(a.props.match.params.month)),allmonths:$.a.months(),showYearNav:!1,selectedDay:null,clientId:"",currentMonth:0,currentYear:0,posts:[],showCat:!1,categories:[],newColors:[],isLoading:!1},a.onDoubleClick=a.handleDoubleClickItem.bind(Object(G.a)(a)),a.showCategories=a.showCategories.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.match.params.clientId&&(this.props.firebase.getSocialPosts(this.props.match.params.clientId).then(function(t){e.setState({posts:t.docs,isLoading:!e.state.isLoading})}),this.props.firebase.getUserCategories(this.props.match.params.clientId).then(function(t){var a=Object(J.a)(e.state.categories);t.docs.map(function(e){a.push(e.data())}),e.setState({categories:a})}))}},{key:"componentWillUnmount",value:function(){}},{key:"handleDoubleClickItem",value:function(e){alert("I got double-clicked!")}},{key:"getDates",value:function(e,t){var a=[],n=$()(e);for(t=$()(t);n<=t;)a.push($()(n).format("YYYY")),n=$()(n).add(1,"year");return a}},{key:"render",value:function(){for(var e=this,t=this.weekdayshort.map(function(e){return s.a.createElement("th",{key:e},e)}),n=[],r=0;r<this.firstDayOfMonth();r++)n.push(s.a.createElement("td",{className:"calendar-day empty"},""));for(var o=[],c=1;c<=this.daysInMonth();c++){var i=c==this.currentDay()?"today":"";o.push(s.a.createElement("td",{key:c,className:"calendar-day TEST ".concat(i)},s.a.createElement(re,{day:c,posts:this.state.posts,month:this.props.match.params.month,clientId:this.props.match.params.clientId,history:this.props.history}),s.a.createElement(l.b,{to:"/add-post/2019/".concat(this.props.match.params.month,"/").concat(c,"/").concat(this.props.match.params.clientId),className:"add-post-link"},"+")))}var u=[].concat(n,o),d=[],m=[];u.forEach(function(e,t){t%7!==0?m.push(e):(d.push(m),(m=[]).push(e)),t===u.length-1&&d.push(m)});var h=d.map(function(e,t){return s.a.createElement("tr",{className:"days-in-month"},e)});return console.log(this.state,"state of colours"),s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:a(116),id:"wing-logo"}),s.a.createElement("div",null,this.state.isLoading?s.a.createElement("div",{className:"tail-datetime-calendar"},s.a.createElement("div",{className:"calendar-heading"},s.a.createElement("h2",{className:"text-center"},"Client ",this.props.match.params.clientId," Calendar "),s.a.createElement("p",{className:"text-center"},this.month(),"     ",this.year())),s.a.createElement("div",{className:"calendar-navi"},s.a.createElement("span",{onClick:function(t){e.onPrev()},class:"calendar-button button-prev"}),!this.state.showMonthTable&&!this.state.showYearEditor&&s.a.createElement("span",{onClick:function(t){e.showMonth()},class:"calendar-label"}),s.a.createElement("span",{className:"calendar-label",onClick:function(t){e.showYearEditor()}}),s.a.createElement("span",{onClick:function(t){e.onNext()},className:"calendar-button button-next"})),s.a.createElement("div",{className:"calendar-date"},this.state.showYearNav&&s.a.createElement(this.YearTable,{props:this.year()}),this.state.showMonthTable&&s.a.createElement(this.MonthList,{data:$.a.months()})),this.state.showCalendarTable&&s.a.createElement("div",{className:"calendar-date"},s.a.createElement("table",{className:"calendar-day"},s.a.createElement("thead",null,s.a.createElement("tr",{id:"weekdays"},t)),s.a.createElement("tbody",null,h))),this.state.showCat&&s.a.createElement(ie,{className:"selected-categoryComponent",userId:this.props.match.params.clientId,getCategories:this.sendCategories,removeCategory:function(){return e.removeCategory}}),s.a.createElement("button",{onClick:this.showCategories,id:"add-category-button"},"Add Categories"),s.a.createElement(ue,{colors:this.state.categories})):s.a.createElement(F.a,null)))}}]),t}(s.a.Component),be=Object(oe.c)(u(ge)),fe=(a(633),a(713)),ve=a(718),Ee=a(716),ye=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).submitForm=function(e){e.preventDefault();var t={};t.month=a.state.month,t.year=a.state.year,a.state.date.filter(function(e){return e.month===t.month}).length>0?alert("Sorry that month is already in use, please select again"):(a.props.firebase.addDate(a.props.match.params.id,a.state.month,a.state.year).then(function(){window.location.reload()}),a.setState({showAddDate:!a.state.showAddDate,date:[].concat(Object(J.a)(a.state.date),[t])}))},a.handleMonth=function(e){console.log(e.target.value,"month event"),a.setState({month:e.target.value})},a.handleYear=function(e){console.log(e,"year event"),a.setState({year:e.target.value})},a.redirectDate=function(){console.log("hello")},a.deleteDate=function(e,t){void 0!==a.props.match.params.id&&a.props.firebase.deleteDate(a.props.match.params.id,e),a.setState({date:a.state.date.filter(function(e,a){return a!==t})})},a.state={user:null,showAddDate:!1,date:[],month:1,year:2019,chosenMonth:"",chosenYear:"",showCalendar:!1,clientId:"",isLoading:!1,passDates:function(e,t){a.setState({chosenMonth:e,chosenYear:t,showCalendar:!0})}},a.submitForm=a.submitForm.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getUID(this.props.match.params.id).then(function(t){t.docs.map(function(t){e.setState({clientId:t.data().userId,isLoading:!e.state.isLoading})})}),this.props.firebase.getDates(this.props.match.params.id).then(function(t){t.docs.map(function(t){var a={},n=e.state.date;a.month=t.data().month,a.year=t.data().year,a.id=t.id,n.push(a),e.setState({date:n})})})}},{key:"componentDidMount",value:function(){}},{key:"toggleAddDate",value:function(){this.setState({showAddDate:!this.state.showAddDate})}},{key:"convert",value:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-=1]}},{key:"passDates",value:function(){console.log("clicked"),console.log(this.props)}},{key:"render",value:function(){var e=this,t=this.state.date.map(function(t,a){return s.a.createElement("div",{className:"single-calendar-wrapper d-flex align-items-center justify-content-center",index:a,key:t.id},s.a.createElement("button",{onClick:function(){return e.deleteDate(t.id,a)},className:"delete-date"},"x"),s.a.createElement(l.b,{to:"/calendar/".concat(t.year,"/").concat(t.month,"/").concat(e.props.match.params.id)},e.convert(t.month)," ",t.year,s.a.createElement("br",null)))}),n={backgroundColor:"#fff",width:"269px",paddingLeft:"20px"};return this.state.isLoading&&this.state.date.length>0?s.a.createElement("div",null,s.a.createElement("h2",{className:"text-center",id:"client-heading"},"Client A-Game\u2019s Calendars"),s.a.createElement("p",{className:"text-center"},"Select a month to view it\u2019s calendar."),s.a.createElement("div",{id:"dates-list",className:"container row date-wrapper justify-content-center"},t),this.state.showAddDate?s.a.createElement("form",{className:"add-date-form",onSubmit:this.submitForm.bind(this)},s.a.createElement("button",{onClick:this.toggleAddDate.bind(this),className:"toggle-close"},"x"),s.a.createElement("div",{className:"d-flex justify-content-between inner-date-wrapper"},s.a.createElement(ve.a,{htmlFor:"month-helper"},"Month"),s.a.createElement(fe.a,{onChange:this.handleMonth.bind(this),className:"select-date",value:this.state.month,style:n,id:"month-helper"},s.a.createElement(Ee.a,{value:"1"},"January"),s.a.createElement(Ee.a,{value:"2"},"February"),s.a.createElement(Ee.a,{value:"3"},"March"),s.a.createElement(Ee.a,{value:"4"},"April"),s.a.createElement(Ee.a,{value:"5"},"May"),s.a.createElement(Ee.a,{value:"6"},"June"),s.a.createElement(Ee.a,{value:"7"},"July"),s.a.createElement(Ee.a,{value:"8"},"August"),s.a.createElement(Ee.a,{value:"9"},"September"),s.a.createElement(Ee.a,{value:"10"},"October"),s.a.createElement(Ee.a,{value:"11"},"November"),s.a.createElement(Ee.a,{value:"12"},"December")),s.a.createElement(fe.a,{onChange:this.handleYear.bind(this),style:n,class:"select-date",id:"month-helper",value:this.state.year},s.a.createElement(Ee.a,{value:"2019"},"2019"),s.a.createElement(Ee.a,{value:"2020"},"2020"))),s.a.createElement("input",{type:"submit",value:"Submit",className:"add-date-btn"})):"",this.state.showCalender?s.a.createElement(be,{impData:this.state}):"",s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{onClick:this.toggleAddDate.bind(this),className:"add-date-btn"},"Add New"))):this.state.isLoading&&0==this.state.date.length?s.a.createElement("div",{className:"container"},this.state.showAddDate?s.a.createElement("form",{className:"add-date-form",onSubmit:this.submitForm.bind(this)},s.a.createElement("button",{onClick:this.toggleAddDate.bind(this),className:"toggle-close"},"x"),s.a.createElement("div",{className:"d-flex justify-content-between date-wrapper"},s.a.createElement(fe.a,{onChange:this.handleMonth.bind(this),value:this.state.month,style:n},s.a.createElement(Ee.a,{value:"1"},"January"),s.a.createElement(Ee.a,{value:"2"},"February"),s.a.createElement(Ee.a,{value:"3"},"March"),s.a.createElement(Ee.a,{value:"4"},"April"),s.a.createElement(Ee.a,{value:"5"},"May"),s.a.createElement(Ee.a,{value:"6"},"June"),s.a.createElement(Ee.a,{value:"7"},"July"),s.a.createElement(Ee.a,{value:"8"},"August"),s.a.createElement(Ee.a,{value:"9"},"September"),s.a.createElement(Ee.a,{value:"10"},"October"),s.a.createElement(Ee.a,{value:"11"},"November"),s.a.createElement(Ee.a,{value:"12"},"December")),s.a.createElement(fe.a,{onChange:this.handleYear.bind(this),style:n,value:this.state.year},"Placeholder",s.a.createElement(Ee.a,{value:"2019"},"2019"))),s.a.createElement("input",{type:"submit",value:"Submit",className:"add-date-btn",onSubmit:this.submitForm.bind(this)})):"",s.a.createElement("h2",{className:"text-center",id:"client-heading"},"Client A-Game\u2019s Calendars"),s.a.createElement("img",{src:a(634),id:"no-date-calendar"}),s.a.createElement("p",{className:"text-center client-text"},"You don\u2019t seem to have any calendars set up yet. Click below to add one and get started!"),s.a.createElement("div",{className:"text-center arrow-wrapper"},s.a.createElement("button",{onClick:this.toggleAddDate.bind(this),className:"add-date-btn"},"Add New"),s.a.createElement("img",{src:a(635),id:"arrow"}))):s.a.createElement(F.a,null)}}]),t}(n.Component),Ce=Object(O.a)(u(ye)),we=a(145),Oe=a.n(we),je=(a(658),a(146)),Se=a.n(je),ke=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).fileChangeHandler=function(e){e.target.files;var t=a.state.filesArr;a.setState({files:t})},a.handleColorText=function(e){a.setState({pushColorText:e.target.value})},a.onChange=function(e){return a.setState({time:e})},a.showCategory=function(e){e.preventDefault(),a.setState({showCategoryState:!a.state.showCategoryState})},a.handleTitle=function(e){a.setState({title:e.target.value})},a.handleCopy=function(e){a.setState({copy:e.target.value})},a.handleHashtags=function(e){a.setState({hashtags:e.target.value})},a.onChangeTime=function(e){a.setState({time:e})},a.onSubmitForm=function(e){e.preventDefault(),console.log(a.props.match.params.clientId);var t=a.state.title.toLowerCase().replace(/ /g,"-"),n=(a.state.calendarMonth,a.props.match.params.clientId);a.props.firebase.addPost(n,a.state.title,a.state.copy,a.state.hashtags,a.state.time,parseInt(a.props.match.params.day),parseInt(a.props.match.params.month),a.state.values,a.state.metaImageFiles,t,!1,"No Category|||#fff"),a.props.history.push("/calendar/2019/".concat(a.props.match.params.month,"/").concat(a.props.match.params.clientId))},a.addFile=function(e){var t=Array.from(e.target.files);if(1===t.length)a.setState(Object(T.a)({file:Object(J.a)(a.state.file)},"file",t));else if(t.length>1){var n=[];t.map(function(e){n.push(e)}),a.setState({file:n})}},a.uploadFiles=function(e){e.preventDefault();var t=a.props.firebase.storage;alert(a.state.file.length);var n=[];a.state.file.forEach(function(e){var s;switch(e.type){case"video/mp4":s="video";break;case"image/png":case"image/jpeg":s="image";break;default:s=""}var r=encodeURIComponent(a.state.clientId)+encodeURIComponent("/")+a.state.calendarMonth+encodeURIComponent("-")+a.state.calendarDay+encodeURIComponent("/")+e.name+"?alt=media&type="+s,o="https://firebasestorage.googleapis.com/v0/b/skylar-social-17190.appspot.com/o/".concat(r);n.push(o),t.ref().child("".concat(a.state.clientId,"/").concat(a.state.calendarMonth,"-").concat(a.state.calendarDay,"/").concat(e.name)).put(e)}),a.setState({metaImageFiles:n})},a.showState=function(e){e.preventDefault(),console.log(a.state)},a.monthNumToName=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]||""},a.state={title:"",copy:"",values:[],time:"10:00",hashtags:[],filesArr:[],image:"",imageURL:"",progress:0,showCategoryState:!1,pushColor:"",pushColorText:"",clientId:"",calendarDay:0,calendarMonth:0,calendarYear:2019,postId:"",file:[],metaImageFiles:["No Files"]},a.handleTitle=a.handleTitle.bind(Object(G.a)(a)),a.renderAddLinks=a.renderAddLinks.bind(Object(G.a)(a)),a.fileChangeHandler=a.fileChangeHandler.bind(Object(G.a)(a)),a.onSubmitForm=a.onSubmitForm.bind(Object(G.a)(a)),a.showCategory=a.showCategory.bind(Object(G.a)(a)),a.handleColorText=a.handleColorText.bind(Object(G.a)(a)),a.onChangeTime=a.onChangeTime.bind(Object(G.a)(a)),a.addFile=a.addFile.bind(Object(G.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(G.a)(a)),a.addHash=a.addHash.bind(Object(G.a)(a)),a.removeHash=a.removeHash.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props,"addpost");var e=window.location.href,t=new URL(e),a=t.searchParams.get("clientId"),n=parseInt(t.searchParams.get("day")),s=parseInt(t.searchParams.get("month"));console.log(a," this is the client Id after it has mounted"),this.setState({clientId:a,calendarDay:n,calendarMonth:s})}},{key:"renderAddLinks",value:function(){document.getElementById("link-container"),this.setState(function(e){return{inputs:[].concat(Object(J.a)(e.inputs),[""])}})}},{key:"handleChangeText",value:function(e,t){var a=Object(J.a)(this.state.colors);a[e]=t.target.value,this.setState({colors:a})}},{key:"createUI",value:function(){var e=this;return this.state.values.map(function(t,a){return s.a.createElement("div",{key:a,className:"d-flex align-items-center"},s.a.createElement(U.a,{type:"text",value:t||"",onChange:e.handleChange.bind(e,a),className:"outlined-title hash-field",margin:"normal",variant:"outlined"}),s.a.createElement("input",{type:"button",value:"x",onClick:e.removeClick.bind(e,a),className:"remove-hash"}))})}},{key:"createHashtags",value:function(){var e=this;return this.state.hashtags.map(function(t,a){return s.a.createElement("div",{key:a,className:"d-flex align-items-center"},s.a.createElement(U.a,{type:"text",value:t||"",onChange:e.handleHash.bind(e,a),className:"outlined-title hash-field",margin:"normal",variant:"outlined"}),s.a.createElement("input",{type:"button",value:"x",onClick:e.removeHash.bind(e,a),className:"remove-hash"}))})}},{key:"handleChange",value:function(e,t){var a=Object(J.a)(this.state.values);a[e]=t.target.value,this.setState({values:a})}},{key:"handleHash",value:function(e,t){var a=Object(J.a)(this.state.hashtags);a[e]=t.target.value,this.setState({hashtags:a})}},{key:"addHash",value:function(){this.setState(function(e){return{hashtags:[].concat(Object(J.a)(e.hashtags),[""])}})}},{key:"addClick",value:function(){this.setState(function(e){return{values:[].concat(Object(J.a)(e.values),[""])}})}},{key:"removeClick",value:function(e){var t=Object(J.a)(this.state.values);t.splice(e,1),this.setState({values:t})}},{key:"removeHash",value:function(e){var t=Object(J.a)(this.state.hashtags);t.splice(e,1),this.setState({hashtags:t})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.values.join(", ")),e.preventDefault()}},{key:"submitFile",value:function(e){e.preventDefault(),this.props.firebase.getStorage.child("images")}},{key:"render",value:function(){var e,t={backgroundColor:"#EF463B",borderColor:"#007bff",width:"40px",height:"40px"};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container add-post"},s.a.createElement("p",{className:"heading text-center add-post-heading"},"Client ",this.props.match.params.clientId," Calendar",s.a.createElement("br",null),this.monthNumToName(parseInt(this.props.match.params.month))," ",this.props.match.params.year," - Add Post"),s.a.createElement("img",{src:a(116),id:"wing-logo"}),s.a.createElement("form",{onSubmit:this.onSubmitForm},s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"outter-form-wrap"},s.a.createElement("div",{className:"d-flex align-items-end justify-content-between"},s.a.createElement(U.a,{className:"outlined-title",label:"Title",name:"title",value:this.state.value,onChange:this.handleTitle,required:!0,margin:"normal",variant:"outlined"}),s.a.createElement(Oe.a,{onChange:this.onChangeTime,value:this.state.time})),s.a.createElement("br",null),s.a.createElement(U.a,(e={className:"outlined-copy",label:"Copy",name:"copy",multiline:!0,value:this.state.value,onChange:this.handleTitle,required:!0,margin:"normal"},Object(T.a)(e,"value",this.state.value),Object(T.a)(e,"onChange",this.handleCopy),Object(T.a)(e,"variant","outlined"),e)),s.a.createElement("br",null),s.a.createElement("p",{className:"heading"},"Hashtags:"),this.createHashtags(),s.a.createElement(z.a,{color:"red","aria-label":"Add",onClick:this.addHash.bind(this),style:t},s.a.createElement(Se.a,null)),s.a.createElement("br",null),s.a.createElement("p",{className:"heading"},"Links:"),this.createUI(),s.a.createElement(z.a,{color:"red","aria-label":"Add",onClick:this.addClick.bind(this),style:t},s.a.createElement(Se.a,null)),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",null,s.a.createElement("input",{type:"file",multiple:!0,onChange:this.addFile}),s.a.createElement("button",{onClick:this.uploadFiles},"Upload Files"))),s.a.createElement("div",{className:"text-center"},s.a.createElement("input",{type:"submit",value:"Submit",className:"add-date-btn"})))))}}]),t}(n.Component),Ne=Object(oe.c)(u(ke)),Ie=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleText=function(e){if(void 0!==e)return e.split("|||")[0]},a.state={categories:[]},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getUserCategories(this.props.clientId).then(function(t){var a=[];t.docs.map(function(e){console.log(e.data(),"item in map");var t={};t.color=e.data().categories.color,t.name=e.data().categories.name,a.push(t)}),e.setState({categories:a})})}},{key:"render",value:function(){var e=this,t=this.state.categories.map(function(t){return e.handleText(e.props.category)==t.name?s.a.createElement("option",{value:"".concat(t.name,"|||").concat(t.color),selected:!0},t.name):s.a.createElement("option",{value:"".concat(t.name,"|||").concat(t.color)},t.name)});return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",null,s.a.createElement("select",{name:"options",onChange:this.props.getSelectedCategory},s.a.createElement("option",{value:"No Category ||| #fff",selected:!0},"No Category"),t)))}}]),t}(n.Component),Me=Object(O.a)(u(Ie)),Te=(a(659),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).getType=function(e){if("No Files"!==e){var t=new URL(e).search;return new URLSearchParams(t).get("type")}},a.handlePostTitle=function(e){a.setState({postTitle:e.target.value})},a.handlePostCopy=function(e){a.setState({postCopy:e.target.value})},a.editPostSubmit=function(e){e.preventDefault(),a.props.firebase.editPostSubmit(a.props.match.params.clientId,a.props.match.params.postId,a.state.postTitle,a.state.postCopy,a.state.postHashtags,a.state.postTime,a.state.values,a.state.selectedCategory),a.props.history.push("/calendar/2019/".concat(a.props.match.params.month,"/").concat(a.props.match.params.clientId))},a.deletePost=function(){return window.confirm("Are you sure you wish to delete this item?")&&(a.props.firebase.deletePost(a.props.match.params.clientId,a.props.match.params.postId),a.props.history.push("/calendar/2019/".concat(a.props.match.params.month,"/").concat(a.props.match.params.clientId))),!1},a.getSelectedCategory=function(e){a.setState({selectedCategory:e.target.value})},a.monthNumToName=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]||""},a.onChangeTime=function(e){a.setState({postTime:e})},a.deleteHash=function(e){a.setState({postHashtags:a.state.postHashtags.filter(function(t,a){return a!==e})})},a.addNewHashtag=function(e){e.preventDefault(),a.setState({postHashtags:[].concat(Object(J.a)(a.state.postHashtags),[a.state.currentHashtag]),currentHashtag:""})},a.currentHashtagHandle=function(e){a.setState({currentHashtag:e.target.value})},a.state={post:null,postTitle:"",postCopy:"",postHashtags:[],postTime:"",values:[],firestorageRef:a.props.firebase.storage,metaImageFiles:[],categories:[],selectedCategory:"No Category|||#fff",currentHashtag:""},a.handlePostTitle=a.handlePostTitle.bind(Object(G.a)(a)),a.editPostSubmit=a.editPostSubmit.bind(Object(G.a)(a)),a.getSelectedCategory=a.getSelectedCategory.bind(Object(G.a)(a)),a.deleteHash=a.deleteHash.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.editPostFirebase(this.props.match.params.clientId,this.props.match.params.postId).then(function(t){e.setState({postTitle:t.data().title,postCopy:t.data().copy,postHashtags:t.data().hashtags,postTime:t.data().time,values:t.data().links,metaImageFiles:t.data().metaImageFiles,selectedCategory:t.data().selectedCategory})})}},{key:"handleChange",value:function(e,t){var a=Object(J.a)(this.state.values);a[e]=t.target.value,this.setState({values:a})}},{key:"createUI",value:function(){var e=this;return this.state.values.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("input",{type:"text",value:t||"",onChange:e.handleChange.bind(e,a)}),s.a.createElement("input",{type:"button",value:"x",onClick:e.removeClick.bind(e,a),className:"remove-hash"}))})}},{key:"removeClick",value:function(e){var t=Object(J.a)(this.state.values);t.splice(e,1),this.setState({values:t})}},{key:"render",value:function(){var e=this,t=this.state.metaImageFiles.map(function(t){return"video"==e.getType(t)?s.a.createElement("video",{height:"200",width:"200",controls:!0},s.a.createElement("source",{src:t})):"image"==e.getType(t)?s.a.createElement("img",{src:t}):s.a.createElement("div",null,"Sorry There is no media")});console.log(this.state.selectedCategory,"selected category");var a=this.state.postHashtags.map(function(t,a){return s.a.createElement("div",null,t,s.a.createElement("input",{type:"button",onClick:function(){return e.deleteHash(a)},value:"x",index:a,className:"remove-hash"}))});return s.a.createElement("div",{className:"container add-post edit-post"},s.a.createElement("button",{onClick:this.deletePost,className:"delete-post-button"},s.a.createElement(z.a,{disabled:!0,"aria-label":"Delete"},s.a.createElement(q.a,null))),s.a.createElement("p",{className:"heading text-center add-post-heading"},"Client ",this.props.match.params.clientId," Calendar",s.a.createElement("br",null),this.monthNumToName(parseInt(this.props.match.params.month))," ",this.props.match.params.year," - Edit Post"),s.a.createElement("form",{onSubmit:this.editPostSubmit},s.a.createElement("div",{className:"d-flex align-items-end justify-content-between"},s.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},s.a.createElement(U.a,{margin:"normal",variant:"outlined",label:"Title",name:"title",value:this.state.postTitle,onChange:this.handlePostTitle,className:"outlined-title"}),s.a.createElement(Oe.a,{onChange:this.onChangeTime,value:this.state.postTime}),s.a.createElement(U.a,{id:"outlined-multiline-static",label:"Copy",className:"outlined-copy",multiline:!0,rows:"4",defaultValue:"Default Value",margin:"normal",variant:"outlined",onChange:this.handlePostCopy,value:this.state.postCopy}),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("p",{className:"heading"},"Hashtags:"),a,s.a.createElement("p",{className:"heading"},"Links:"),this.state.values&&this.createUI())),s.a.createElement("div",null,t)),s.a.createElement("div",{className:"text-center"},s.a.createElement("input",{type:"submit",value:"Submit Edits",className:"add-date-btn"}))),s.a.createElement("form",{onSubmit:this.addNewHashtag.bind(this)},s.a.createElement("input",{name:"hashtags",value:this.state.currentHashtag,onChange:this.currentHashtagHandle,placeholder:"Add Hashtag"}),s.a.createElement("br",null)),s.a.createElement(Me,{clientId:this.props.match.params.clientId,getSelectedCategory:this.getSelectedCategory,category:this.state.selectedCategory}))}}]),t}(n.Component)),De=Object(oe.c)(u,Object(P.b)(null,function(e){return{getPost:function(t){return e({type:"GET_POST",post:t})}}}))(Te),xe=(n.Component,a(660),a(661),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).getMonthFromString=function(e){return new Date(Date.parse(e+" 1, 2012")).getMonth()+1},a.state={posts:[],currentPosts:[]},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.getMonthFromString(this.props.month),a=this.props.posts.filter(function(t){return t.data().day==e.props.day});console.log(this.props.posts,"flitered");var n=a.map(function(a){var n=a.data().title.toLowerCase().replace(/ /g,"-");a.id;return s.a.createElement("div",null,s.a.createElement(l.b,{to:"/view-post/".concat(t,"/").concat(e.props.day,"/").concat(n)},a.data().title," ",s.a.createElement("br",null)),a.data().approved?"checked":"Not checked")});return s.a.createElement("div",null,this.props.day,n)}}]),t}(n.Component)),Pe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).weekdayshort=$.a.weekdaysShort(),a.state={showYearTable:!1,showMonthTable:!1,showDateTable:!0,dateObject:$()("2019-".concat(a.props.match.params.month)),allmonths:$.a.months(),selectedDay:null,currentMonth:parseInt($()().format("M")),currentPosts:[],categories:[]},a.daysInMonth=function(){return a.state.dateObject.daysInMonth()},a.year=function(){return a.state.dateObject.format("Y")},a.currentDay=function(){return a.state.dateObject.format("D")},a.firstDayOfMonth=function(){var e=a.state.dateObject;return $()(e).startOf("month").format("d")},a.month=function(){return a.state.dateObject.format("MMMM")},a.showMonth=function(e,t){a.setState({showMonthTable:!a.state.showMonthTable,showDateTable:!a.state.showDateTable})},a.setMonth=function(e){var t=a.state.allmonths.indexOf(e),n=Object.assign({},a.state.dateObject);n=$()(n).set("month",t),a.setState({dateObject:n,showMonthTable:!a.state.showMonthTable,showDateTable:!a.state.showDateTable})},a.MonthList=function(e){var t=[];e.data.map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setMonth(e)}},s.a.createElement("span",null,e)))});var n=[],r=[];t.forEach(function(e,t){t%3!==0||0==t?r.push(e):(n.push(r),(r=[]).push(e))}),n.push(r);var o=n.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Month"))),s.a.createElement("tbody",null,o))},a.showYearTable=function(e){a.setState({showYearTable:!a.state.showYearTable,showDateTable:!a.state.showDateTable})},a.onPrev=function(){var e="";e=!0===a.state.showYearTable?"year":"month",a.props.history.push("/client-calendar/2019/".concat(parseInt(a.props.match.params.month)-1)),a.props.firebase.getUniqueClientPosts(localStorage.getItem("userId"),parseInt(a.props.match.params.month-1)).then(function(t){console.log(t,"snapshot val prev"),a.setState({currentPosts:t.docs,dateObject:a.state.dateObject.subtract(1,e)})})},a.onNext=function(){var e="";e=!0===a.state.showYearTable?"year":"month",a.props.history.push("/client-calendar/2019/".concat(parseInt(a.props.match.params.month)+1)),a.props.firebase.getUniqueClientPosts(localStorage.getItem("userId"),parseInt(a.props.match.params.month)+1).then(function(t){a.setState({currentPosts:t.docs,dateObject:a.state.dateObject.add(1,e)})})},a.setYear=function(e){var t=Object.assign({},a.state.dateObject);t=$()(t).set("year",e),a.setState({dateObject:t,showMonthTable:!a.state.showMonthTable,showYearTable:!a.state.showYearTable})},a.onYearChange=function(e){a.setYear(e.target.value)},a.getState=function(e){e.preventDefault(),console.log(a.state.currentPosts)},a.YearTable=function(e){var t=[],n=$()().set("year",e).add("year",12).format("Y");a.getDates(e,n).map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setYear(e)}},s.a.createElement("span",null,e)))});var r=[],o=[];t.forEach(function(e,t){t%3!==0||0==t?o.push(e):(r.push(o),(o=[]).push(e))}),r.push(o);var l=r.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Yeah"))),s.a.createElement("tbody",null,l))},a.onDayClick=function(e,t){a.setState({selectedDay:t},function(){console.log("SELECTED DAY: ",a.state.selectedDay)})},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(localStorage,"local storage"),this.props.firebase.getUniqueClientPosts(localStorage.getItem("userId"),parseInt(this.props.match.params.month)).then(function(t){e.setState({currentPosts:t.docs})}),this.props.firebase.getUserCategories(localStorage.getItem("userId")).then(function(t){var a=Object(J.a)(e.state.categories);t.docs.map(function(e){a.push(e.data())}),e.setState({categories:a})})}},{key:"getDates",value:function(e,t){var a=[],n=$()(e);for(t=$()(t);n<=t;)a.push($()(n).format("YYYY")),n=$()(n).add(1,"year");return a}},{key:"render",value:function(){for(var e=this,t=this.weekdayshort.map(function(e){return s.a.createElement("th",{key:e},e)}),a=[],n=0;n<this.firstDayOfMonth();n++)a.push(s.a.createElement("td",{className:"calendar-day empty"},""));for(var r=[],o=1;o<=this.daysInMonth();o++){console.log(this.state.currentPosts,"current posts");var l=o==this.currentDay()?"today":"",c=this.month();r.push(s.a.createElement("td",{key:o,className:"calendar-day ".concat(l)},s.a.createElement(xe,{day:o,month:c,posts:this.state.currentPosts})))}var i=[].concat(a,r),u=[],d=[];i.forEach(function(e,t){t%7!==0?d.push(e):(u.push(d),(d=[]).push(e)),t===i.length-1&&u.push(d)});var m=u.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement(s.a.Fragment,null,s.a.createElement(ue,{colors:this.state.categories}),s.a.createElement("div",{className:"tail-datetime-calendar"},s.a.createElement("div",{className:"calendar-navi"},s.a.createElement("span",{onClick:function(t){e.onPrev()},class:"calendar-button button-prev"}),!this.state.showMonthTable&&s.a.createElement("span",{onClick:function(t){e.showMonth()},class:"calendar-label"},this.month()),s.a.createElement("span",{className:"calendar-label",onClick:function(t){return e.showYearTable()}},this.year()),s.a.createElement("span",{onClick:function(t){e.onNext()},className:"calendar-button button-next"})),s.a.createElement("div",{className:"calendar-date"},this.state.showYearTable&&s.a.createElement(this.YearTable,{props:this.year()}),this.state.showMonthTable&&s.a.createElement(this.MonthList,{data:$.a.months()})),this.state.showDateTable&&s.a.createElement("div",{className:"calendar-date"},s.a.createElement("table",{className:"calendar-day"},s.a.createElement("thead",null,s.a.createElement("tr",null,t)),s.a.createElement("tbody",null,m))),s.a.createElement("button",{onClick:this.getState.bind(this)},"Get state")))}}]),t}(s.a.Component),Ue=Object(O.a)(u(Pe)),Ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.media.map(function(e){switch(console.log(e),function(e){if("No Files"!==e){var t=new URL(e).search;return new URLSearchParams(t).get("type")}}(e)){case"image":return s.a.createElement("img",{src:e,style:{width:200,height:200}});case"video":return s.a.createElement("div",null,s.a.createElement("video",{height:"200",width:"200",controls:!0},s.a.createElement("source",{src:e})));default:return s.a.createElement("div",null,"File Not Supported")}}))}}]),t}(n.Component),Fe=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,"Client ChatBox")}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={messsages:[]},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,"Main Chatlog")}}]),t}(n.Component),Ye=Object(O.a)(u,Object(P.b)(null,null))(He),Le=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleCheckbox=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;a.setState({approved:n})},a.approveFormSubmit=function(e){e.preventDefault(),a.props.firebase.approvePost(a.state.userId,a.state.postId,a.state.approved)},a.showPopUp=function(e){e.preventDefault(),a.setState({showPopUp:!a.state.showPopUp})},a.state={userId:localStorage.userId,post:[],media:[],hashtags:[],links:[],approved:!1,postId:"",showPopUp:!1,authUser:null},a.handleCheckbox=a.handleCheckbox.bind(Object(G.a)(a)),a.approveFormSubmit=a.approveFormSubmit.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getSinglePost(this.state.userId,parseInt(this.props.match.params.month),parseInt(this.props.match.params.day),this.props.match.params.id).then(function(t){t.docs.map(function(t){e.setState({post:t,media:t.data().metaImageFiles,title:t.data().title,copy:t.data().copy,hashtags:t.data().hashtags,links:t.data().links,postId:t.id,approved:t.data().approved})})}),console.log(this.props.authUser,"props in ")}},{key:"render",value:function(){console.log(this.state.approved,"approved"),console.log(this.props,"props in props");return s.a.createElement(s.a.Fragment,null,this.state.showPopUp?s.a.createElement("div",{style:{width:500,height:500,background:"red",position:"fixed",zIndex:1}},"You have changed the approval of this post",s.a.createElement("button",{onClick:this.showPopUp},"Close")):"",s.a.createElement("p",null,this.state.title),s.a.createElement("div",{className:"media-text-wrapper row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(Ae,{media:this.state.media})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("p",null,"Copy"),s.a.createElement("p",null,this.state.copy)),s.a.createElement("div",{className:"col-sm-12"},this.state.hashtags.map(function(e){return s.a.createElement("div",null,"#",e)}),s.a.createElement("br",null),this.state.links.map(function(e){return s.a.createElement("div",null,e)}))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("form",{onSubmit:this.approveFormSubmit,id:"approve-form",style:{margin:200,width:300,height:300}},s.a.createElement("label",null,this.state.approved?s.a.createElement("p",null,"You have approved this post"):s.a.createElement("p",null,"You have not approved this post"),s.a.createElement("input",{name:"approve",type:"checkbox",id:"approve-checkbox",onChange:this.handleCheckbox,checked:this.state.approved})),s.a.createElement("button",{onClick:this.approveFormSubmit},"Submit"))),s.a.createElement(f.Consumer,null,function(e){return e?s.a.createElement("div",{id:"chat-wrapper"},s.a.createElement(Fe,{authUser:!0}),s.a.createElement(Ye,null)):""}))}}]),t}(n.Component),Re=(Object(oe.c)(u(Le)),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).setMessage=function(e){e.preventDefault(),a.setState({message:e.target.value})},a.submitMessage=function(e){e.preventDefault();var t=a.props.id,n=parseInt(a.props.month),s=parseInt(a.props.day),r=a.props.title,o=a.state.message;(new Date).getMonth();a.props.getMessage(t,n,s,r,o)},a.state={message:""},a.setMessage=a.setMessage.bind(Object(G.a)(a)),a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.submitMessage},s.a.createElement("textarea",{onChange:this.setMessage,value:this.state.message}),s.a.createElement("button",{onClick:this.submitMessage},"Submit"))}}]),t}(n.Component)),We=Object(O.a)(u,Object(P.b)(null,function(e){return{onSetMessage:function(t){return e({type:"MESSAGE_SENT",message:t})}}}))(Re),_e=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={messages:[],message:{}},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.id,"props in mounted compoennt")}},{key:"render",value:function(){console.log(this.props.id,"props on id"),console.log(this.state.messages,"messages");return s.a.createElement("div",null,this.props.messages&&this.props.messages.map(function(e){return s.a.createElement("li",{className:"row"},s.a.createElement("img",{src:"https://skylarmedia.ca/wp-content/uploads/2018/12/SkylarMG_Icon_RGB-1.svg"}),s.a.createElement("p",null,e.message))}))}}]),t}(n.Component),Je=Object(O.a)(u,Object(P.b)(null,function(e){return{onSetMessages:function(t){return e({type:"MESSAGES_SET",messages:t})},onSetMessagesLimit:function(t){return e({type:"MESSAGES_LIMIT_SET",limit:t})}}}))(_e),Ge=function(e){var t=e.hashtags.map(function(e){return s.a.createElement("div",null,"#",e)});return s.a.createElement(s.a.Fragment,null,s.a.createElement(U.a,{id:"outlined-name",label:"Title",value:e.post.title,margin:"normal",variant:"outlined",InputProps:{readOnly:!0}}),s.a.createElement("br",null),s.a.createElement(U.a,{id:"outlined-name",label:"Copy",value:e.post.copy,margin:"normal",variant:"outlined",InputProps:{readOnly:!0}}),s.a.createElement("br",null),t,"Time: ",s.a.createElement("p",null,e.post.time),"Approved: ",s.a.createElement("p",null,e.post.approve?"Appoved":"Not Approved"))},Be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).getMessage=function(e,t,n,s,r){var o={};o.id=e,o.month=t,o.day=n,o.title=s,o.message=r,a.setState({messages:[].concat(Object(J.a)(a.state.messages),[o])}),a.props.firebase.adminSendMessage(e,t,n,s,r)},a.getType=function(e){if("No Files"!==e){var t=new URL(e).search;return new URLSearchParams(t).get("type")}},a.state={title:"",copy:"",hashtags:[],time:"",month:"",day:"",links:[],values:[],firestorageRef:a.props.firebase.storage,metaImageFiles:[],categories:[],approved:!1,selectedCategory:"",incomingMessage:{}},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getAdminPost(this.props.match.params.client,this.props.match.params.itemId).then(function(t){e.setState({title:t.data().title,copy:t.data().copy,hashtags:t.data().hashtags,links:t.data().links,metaImageFiles:t.data().metaImageFiles,month:t.data().month,day:t.data().day,selectedCategory:t.data().selectedCategory,time:t.data().time,messages:[]})})}},{key:"render",value:function(){var e=this;console.log(this.state.messages,"incoming message view post");var t=this.state.metaImageFiles.map(function(t){return"video"==e.getType(t)?s.a.createElement("video",{height:"200",width:"200",controls:!0},s.a.createElement("source",{src:t})):"image"==e.getType(t)?s.a.createElement("img",{src:t,onError:"this.style.display='none'"}):s.a.createElement("div",null,"There is no media")});return s.a.createElement("div",{className:"container"},s.a.createElement(Ge,{post:this.state,hashtags:this.state.hashtags}),t,s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement(We,{getMessage:this.getMessage,month:this.props.match.params.month,day:this.props.match.params.day,title:this.props.match.params.title,id:this.props.match.params.client}),s.a.createElement(Je,{incomingMessage:this.state.incomingMessage,id:this.props.match.params.client,month:this.props.match.params.month,day:this.props.match.params.day,messages:this.state.messages}))}}]),t}(n.Component),qe=Object(O.a)(u(Be)),ze=(a(662),a(663),a(664),a(665),a(666),a(284)),Ve=(a(682),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={isVisible:!1},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(ze.slide,{id:"main-menu",noOverlay:!0},s.a.createElement(I,null))}}]),t}(n.Component)),Ze=(a(683),function(){return s.a.createElement("div",{id:"header"})}),Ke=function(e){var t=e.location;return s.a.createElement("div",null,"Sorry this page at ",t.pathname," doesn't exist")},Xe=w(function(){return s.a.createElement(l.a,null,s.a.createElement("div",{id:"outer-container"},s.a.createElement(Ze,null),s.a.createElement(Ve,null),s.a.createElement(c.c,null,s.a.createElement(c.a,{exact:!0,path:"/",component:_}),s.a.createElement(c.a,{path:"/add-post/:year/:month/:day/:clientId",component:Ne}),s.a.createElement(c.a,{path:"/signin",component:_}),s.a.createElement(c.a,{exact:!0,path:"/home",component:Z}),s.a.createElement(c.a,{path:"/clients",component:K}),s.a.createElement(c.a,{path:"/dates/:id",component:Ce}),s.a.createElement(c.a,{path:"/edit-post/:month/:day/:postId/:clientId",component:De}),s.a.createElement(c.a,{exact:!0,path:"/calendar-single/:year/:month:day",component:re}),s.a.createElement(c.a,{path:"/client-calendar/:year/:month",component:Ue}),s.a.createElement(c.a,{path:"/admin-view-post/:month/:day/:title/:client/:itemId",component:qe}),s.a.createElement(c.a,{path:"/calendar/:year/:month/:clientId",component:be}),s.a.createElement(c.a,{component:Ke}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e={data:[]},Qe=function(e,t){return console.log(t,"action in clients"),Object(M.a)({},e,{data:t.clients})};var et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CLIENTS":return Qe(e,t);default:return e}},tt={post:null},at=function(e,t){return console.log(t,"action in clients"),Object(M.a)({},e,{data:t.post})};var nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POST":return at(e,t);default:return e}},st={userId:""},rt=function(e,t){return Object(M.a)({},e,{userId:t.authUser})};var ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_ID":return rt(e,t);default:return e}},lt=Object(oe.b)({setClientsReducer:et,editPostReducer:nt,userInfoReducer:ot}),ct=Object(oe.d)(lt);o.a.render(s.a.createElement(P.a,{store:ct},s.a.createElement(d.Provider,{value:new b},s.a.createElement(Xe,{name:"this is a name"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[290,1,2]]]);
//# sourceMappingURL=main.566c0fb3.chunk.js.map