(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{229:function(e,t){},230:function(e,t,a){e.exports=a(577)},235:function(e,t,a){},450:function(e,t){},451:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){"use strict";a.r(t);for(var n=a(0),s=a.n(n),o=a(69),r=a.n(o),l=(a(235),a(11)),c=a(49),i=s.a.createContext(null),u=function(e){return function(t){return s.a.createElement(i.Consumer,null,function(a){return s.a.createElement(e,Object.assign({},t,{firebase:a}))})}},h=i,d=a(2),m=a(58),p=a.n(m),b=(a(308),a(310),a(225),a(314),a(316),{apiKey:"AIzaSyB4seBRXpVJ3dZDfCddTWze8UCYEVZ8qkc",authDomain:"skylar-social-17190.firebaseapp.com",databaseURL:"https://skylar-social-17190.firebaseio.com",projectId:"skylar-social-17190",storageBucket:"skylar-social-17190.appspot.com",messagingSenderId:"861778122764",appId:"1:861778122764:web:682881979cd4294e"}),f=function e(){var t=this;Object(d.a)(this,e),this.storage=this.storage,this.getCurrentUser=function(){alert(t.auth.currentUser.uid)},this.approvePost=function(e,a,n){return t.db.collection("users").doc(e).collection("posts").doc(a).update({approved:n})},this.getSinglePost=function(e,a,n,s){return t.db.collection("users").doc(e).collection("posts").where("month","==",a).where("day","==",n).get()},this.getPostImages=function(){return t.storage.refFromURL("gs://skylar-social-17190.appspot.com/test123/logo")},this.addLogoUrl=function(e,a){return t.db.collection("users").doc(e).add({logoUrl:a},function(e){console.log(e,"err")})},this.getMessages=function(e,a,n){return t.db.collection("chats").doc(e).collection("messages").where("month","==",a).where("day","==",n).get()},this.postMessage=function(e,a,n,s,o){return t.db.collection("chats").doc(e).collection("messages").add({month:a,day:n,title:s,message:o,user:"Admin",logo:"https://skylarmedia.ca/wp-content/uploads/2018/12/SkylarMG_Icon_RGB-1.svg"})},this.listenChatChanges=function(e){return t.db.collection("chats").doc(e)},this.getUniqueClientPosts=function(e,a){return t.db.collection("users").doc(e).collection("posts").where("month","==",a).get()},this.deletePost=function(e,a){return t.db.collection("users").doc(e).collection("posts").doc(a).delete()},this.getPostId=function(e){return t.db.collection("clients").doc(e).collection("posts")},this.client=function(e){return t.db.ref("clients/".concat(e))},this.getSocialPosts=function(e,a){return t.db.collection("users").doc(e).collection("posts").get()},this.getClients=function(){return t.db.collection("users").where("status","==",1).get()},this.getPostId=function(e){return t.db.collection("clients").doc(e).collection("posts").get()},this.addClient=function(){return t.db.collection("clients")},this.getDates=function(e){return t.db.collection("users").doc(e).collection("dates").get()},this.addDate=function(e,a,n){return t.db.collection("users").doc(e).collection("dates").add({month:a,year:n})},this.addUser=function(e,a,n,s){return t.auth.createUserWithEmailAndPassword(e,a).then(function(e){return t.db.collection("users").doc(e.user.uid).set({name:n,logo:s,status:1,userId:e.user.uid,admin:0})}).then(function(e){e&&e.updateProfile({displayName:"test"})})},this.editPostFirebase=function(e,a){return t.db.collection("users").doc(e).collection("posts").doc(a).get()},this.editPostSubmit=function(e,a,n,s,o,r,l){return t.db.collection("users").doc(e).collection("posts").doc(a).update({title:n,copy:s,hashtags:o,time:r,links:l})},this.addPost=function(e,a,n,s,o,r,l,c,i,u,h){return t.db.collection("users").doc(e).collection("posts").add({title:a,copy:n,hashtags:s,time:o,day:r,month:l,links:c,metaImageFiles:i,friendlyUrl:u,approved:h})},this.deleteClient=function(e){return t.db.collection("users").doc(e).update({status:0})},this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a).then(function(e){return t.db.collection("users").doc(e.user.uid).get()})},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.writeUserData=function(e,a){t.database().ref().set({image:e,name:a})},p.a.initializeApp(b),this.auth=p.a.auth(),this.db=p.a.firestore(),this.storage=p.a.storage(),this.functions=p.a.functions()},g=s.a.createContext(null),v=a(3),E=a(5),y=a(4),O=a(6),C=function(e){var t=function(t){function a(e){var t;return Object(d.a)(this,a),(t=Object(E.a)(this,Object(y.a)(a).call(this,e))).state={authUser:null},t}return Object(O.a)(a,t),Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return s.a.createElement(g.Provider,{value:this.state.authUser},s.a.createElement(e,this.props))}}]),a}(s.a.Component);return u(t)},w=a(13),j="/home",S=u(function(e){var t=e.firebase;return s.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")}),k=function(){return s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(l.b,{to:"/"},"Landing")),s.a.createElement("li",null,s.a.createElement(l.b,{to:j},"Home")),s.a.createElement("li",null,s.a.createElement(l.b,{to:"/account"},"Account")),s.a.createElement("li",null,s.a.createElement(S,null)))},I=function(){return s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(l.b,{to:"/"},"Landing")),s.a.createElement("li",null,s.a.createElement(l.b,{to:"/signin"},"Sign In")))},M=function(e){e.authUser;return s.a.createElement(g.Consumer,null,function(e){return e?s.a.createElement(k,null):s.a.createElement(I,null)})},D=a(36),T=a(24),P={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},U=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onChange=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){var t=a.state,n=(t.username,t.email),s=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(n,s).then(function(e){a.setState(Object(D.a)({},P)),a.props.history.push(j)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.state=Object(D.a)({},P),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,o=e.passwordTwo,r=e.error,l=n!==o||""===n||""===a||""===t;return s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),s.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),s.a.createElement("input",{name:"passwordTwo",value:o,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),s.a.createElement("button",{disabled:l,type:"submit"},"Sign Up"),r&&s.a.createElement("p",null,r.message))}}]),t}(n.Component),N=Object(w.a)(c.e,u)(U),A=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"SignUp"),s.a.createElement(N,null))},Y=a(35),F={email:"",password:"",error:null,loading:!1},x=(new Date).getMonth(),L=(new Date).getFullYear(),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onSubmit=function(e){a.setState({loading:!a.state.loading});var t=a.state,n=t.email,s=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,s).then(function(e){1==e.data().admin?(alert("admin"),a.props.history.push({pathname:"/home",state:{userId:e.data().userId}})):(localStorage.setItem("userId",e.data().userId),a.props.onSetUserId(e.data().userId),a.props.history.push({pathname:"/client-calendar/".concat(a.state.year,"/").concat(a.state.month),state:{userId:e.data().userId}}))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.state=Object(D.a)({},F,{month:x,year:L}),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log(this.props,"props for settings user");var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),s.a.createElement("button",{disabled:o,type:"submit"},"Sign In"),n&&s.a.createElement("p",null,n.message)),this.state.loading&&s.a.createElement("h1",null,"Loading"))}}]),t}(n.Component),H=Object(w.a)(c.e,u,Object(Y.b)(null,function(e){return{onSetUserId:function(t){return e({type:"SET_USER_ID",authUser:t})}}}))(R),W=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"SignIn"),s.a.createElement(H,null))},_=a(10),B=(a(164),a(441),a(206),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).updateInput=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.deleteUser=function(e){a.props.firebase.deleteClient(e),a.props.firebase.getClients().then(function(e){a.setState({users:e.docs})})},a.addClient=function(e){e.preventDefault(),a.setState({name:"",image:"",data:a.state.data,isHidden:!a.state.isHidden}),a.props.firebase.getClients().then(function(e){a.props.getAllClients(e.docs)})},a.retrieveUsers=function(){a.props.firebase.getClients().then(function(e){a.setState({users:e.docs})})},a.handleLogoUpload=function(e){var t=Array.from(e.target.files);a.setState({file:t[0]})},a.addFile=function(e){console.log(e.target.files[0],"target"),a.setState({file:e.target.files[0]})},a.onChange=function(e){a.setState(Object(T.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.state.firestorageRef.ref().child("".concat(a.state.username,"/logo/")).put(a.state.file).then(function(e){console.log(e,"snapshot console");var t="https://firebasestorage.googleapis.com/v0/b/skylar-social-17190.appspot.com/o/".concat(encodeURIComponent(e.metadata.fullPath),"?alt=media");a.props.firebase.addUser(a.state.email,a.state.passwordOne,a.state.username,t),a.setState({isHidden:!a.state.isHidden})}),a.props.firebase.getClients().then(function(e){a.setState({users:e.docs})})},a.state={loading:!1,isHidden:!1,name:"",image:"",users:[],file:null,username:"",email:"",passwordOne:"",error:null,firestorageRef:a.props.firebase.storage,adminEmail:""},a.baseState=a.state,a.toggleAddNew=a.toggleAddNew.bind(Object(_.a)(a)),a.handleLogoUpload=a.handleLogoUpload.bind(Object(_.a)(a)),a.addFile=a.addFile.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"getPosts",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getClients().then(function(t){e.setState({users:t.docs})})}},{key:"toggleAddNew",value:function(){this.setState({isHidden:!this.state.isHidden})}},{key:"render",value:function(){var e=this,t=this.state.users.map(function(t){return s.a.createElement("div",{"data-id":t.data().id,className:"client-wrapper col-sm-4"},s.a.createElement("img",{src:t.data().logo}),s.a.createElement("button",{onClick:function(){return e.deleteUser(t.id)}},"X"),s.a.createElement(l.b,{to:"/dates/".concat(t.id,"?clientId=").concat(t.id)},t.data().name))}),a=""===this.state.passwordOne||""===this.state.email||""===this.state.username;return s.a.createElement("div",null,s.a.createElement("div",{id:"client-list",className:"row"},t),s.a.createElement("button",{onClick:this.toggleAddNew.bind(this)},"Add New"),this.state.isHidden?s.a.createElement("div",{id:"add-new-form-wrapper"},s.a.createElement("button",{onClick:this.toggleAddNew.bind(this),id:"x-add-new"},"X"),s.a.createElement("form",{onSubmit:this.onSubmit,id:"add-new-form"},s.a.createElement("input",{name:"username",value:this.state.username,onChange:this.onChange,type:"text",placeholder:"Full Name"}),s.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),s.a.createElement("input",{name:"passwordOne",value:this.state.passwordOne,onChange:this.onChange,type:"password",placeholder:"Password"}),s.a.createElement("input",{type:"file",onChange:this.addFile}),s.a.createElement("button",{disabled:a,type:"submit"},"Sign Up"),this.state.error&&s.a.createElement("p",null,this.state.error.message))):"")}}]),t}(n.Component)),J=Object(w.a)(u,Object(Y.b)(function(e){return console.log(e,"state in map state to props"),{data:e.setClientsReducer}},function(e){return{getAllClients:function(t){return e({type:"GET_ALL_CLIENTS",clients:t})}}}))(B),G=(a(450),function(e){function t(e){return Object(d.a)(this,t),Object(E.a)(this,Object(y.a)(t).call(this,e))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(l.b,{to:"/add-new"},"Add New"))}}]),t}(n.Component)),q=a(12),z=a.n(q),X=(a(451),0),V=200,Z=!1,K=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).toggleIsHidden=function(){var e=Object(_.a)(a);X=setTimeout(function(){Z||e.doClickAction(),Z=!1},V)},a.truncate=function(e){return e.length>200?"".concat(e.substring(0,200),"..."):e},a.handleDoubleClickItem=function(e){e.preventDefault()},a.state={isHiddenCalendar:!1,clientId:"",image:""},a.toggleIsHidden=a.toggleIsHidden.bind(Object(_.a)(a)),a.handleDoubleClickItem=a.handleDoubleClickItem.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=window.location.href,t=new URL(e).searchParams.get("clientId");this.setState({clientId:t})}},{key:"componentDidUpdate",value:function(e,t,a){console.log(e,"prev props")}},{key:"doClickAction",value:function(){this.setState({isHiddenCalendar:!this.state.isHiddenCalendar})}},{key:"doDoubleClickAction",value:function(){var e=this.props.title.replace(/ /g,"-").toLowerCase();this.props.push.push("/admin-view-post/".concat(this.props.month,"/").concat(this.props.day,"/").concat(e,"/").concat(this.props.clientId))}},{key:"handleDoubleClick",value:function(){clearTimeout(X),Z=!0,this.doDoubleClickAction()}},{key:"render",value:function(){var e=this;this.props.title.replace(/\s+/g,"-"),this.props.month,this.props.day;return s.a.createElement("div",null,s.a.createElement("button",{onClick:this.toggleIsHidden,onDoubleClick:this.handleDoubleClick.bind(this)},this.props.title),this.state.isHiddenCalendar&&s.a.createElement("div",null,s.a.createElement("p",null,e.props.title),s.a.createElement("p",null,e.truncate(e.props.copy)),s.a.createElement("p",null,e.props.time),e.props.hashtags&&s.a.createElement("p",null,e.props.hashtags),e.props.itemId,s.a.createElement(l.b,{to:"/edit-post/".concat(e.props.month,"/").concat(e.props.day,"/").concat(e.props.itemId,"/").concat(e.props.clientId)},"Edit Post")))}}]),t}(n.Component),$=Object(w.a)(u(K)),Q=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).toggleShowCalendarModule=function(){alert("ran")},a.toggleShowCalendarModule=function(){alert("clicked"),a.setState({showCalendarModule:!a.state.showCalendarModule})},a.truncate=function(e){return e.length>200?"".concat(e.substring(0,200),"..."):e},a.state={posts:[],showCalendarModule:!1},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"calendar-popup-wrapper"},this.props.day,s.a.createElement("br",null),this.props.posts.map(function(t,a){if(t.data().month==e.props.month&&t.data().day===e.props.day)return s.a.createElement("div",null,t.data().approved&&s.a.createElement("p",null,"Approved"),s.a.createElement($,{title:t.data().title,copy:t.data().copy,time:t.data().time,hashtags:t.data().hashtags,links:t.data().links,day:t.data().day,month:t.data().month,itemId:t.id,push:e.props.history,clientId:e.props.clientId}))}))}}]),t}(n.Component),ee=Object(w.a)(u(Q)),te=a(21),ae=window.location.search.substr(1).split("&"),ne={},se=0;se<ae.length;se++){var oe=ae[se].split("=");ne[decodeURIComponent(oe[0])]=decodeURIComponent(oe[1])}ne.year,ne.month;var re=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).weekdayshort=z.a.weekdaysShort(),a.daysInMonth=function(){return a.state.dateObject.daysInMonth()},a.year=function(){return a.state.dateObject.format("Y")},a.currentDay=function(){return a.state.dateObject.format("D")},a.firstDayOfMonth=function(){var e=a.state.dateObject;return z()(e).startOf("month").format("d")},a.month=function(){return a.state.dateObject.format("MMMM")},a.showMonth=function(e,t){a.setState({showMonthTable:!a.state.showMonthTable,showCalendarTable:!a.state.showCalendarTable})},a.setMonth=function(e){var t=a.state.allmonths.indexOf(e),n=Object.assign({},a.state.dateObject);n=z()(n).set("month",t),a.setState({dateObject:n,showMonthTable:!a.state.showMonthTable,showCalendarTable:!a.state.showCalendarTable})},a.MonthList=function(e){var t=[];e.data.map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setMonth(e)}},s.a.createElement("span",null,e)))});var n=[],o=[];t.forEach(function(e,t){t%3!==0||0==t?o.push(e):(n.push(o),(o=[]).push(e))}),n.push(o);var r=n.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Month"))),s.a.createElement("tbody",null,r))},a.showYearEditor=function(){a.setState({showYearNav:!0,showCalendarTable:!a.state.showCalendarTable})},a.onPrev=function(){var e="";e=1==a.state.showMonthTable?"year":"month",a.setState({dateObject:a.state.dateObject.subtract(1,e)}),a.props.history.push("/calendar/2019/".concat(parseInt(a.props.match.params.month)-1,"/").concat(a.props.match.params.clientId))},a.onNext=function(){var e="";e=1==a.state.showMonthTable?"year":"month",a.props.history.push("/calendar/2019/".concat(parseInt(a.props.match.params.month)+1,"/").concat(a.props.match.params.clientId)),a.props.firebase.getSocialPosts(a.props.match.params.clientId,a.props.match.params.month).then(function(e){a.setState({posts:e.docs})}),a.setState({dateObject:a.state.dateObject.add(1,e)})},a.setYear=function(e){var t=Object.assign({},a.state.dateObject);t=z()(t).set("year",e),a.setState(Object(T.a)({dateObject:t,showMonthTable:!a.state.showMonthTable,showYearNav:!a.state.showYearNav},"showMonthTable",!a.state.showMonthTable))},a.onYearChange=function(e){a.setYear(e.target.value)},a.YearTable=function(e){var t=[],n=z()().set("year",e).add("year",12).format("Y");a.getDates(e,n).map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setYear(e)}},s.a.createElement("span",null,e)))});var o=[],r=[];t.forEach(function(e,t){t%3!==0||0==t?r.push(e):(o.push(r),(r=[]).push(e))}),o.push(r);var l=o.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Yeah"))),s.a.createElement("tbody",null,l))},a.onDayClick=function(e,t){a.setState({selectedDay:t},function(){})},a.getClientId=function(){var e=window.location.href;return new URL(e).searchParams.get("clientId")},a.state={showCalendarTable:!0,showMonthTable:!1,dateObject:z()("".concat(a.props.match.params.year,"-").concat(a.props.match.params.month)),allmonths:z.a.months(),showYearNav:!1,selectedDay:null,clientId:"",currentMonth:0,currentYear:0,posts:[]},a.onDoubleClick=a.handleDoubleClickItem.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.match.params.clientId&&this.props.firebase.getSocialPosts(this.props.match.params.clientId).then(function(t){e.setState({posts:t.docs})})}},{key:"handleDoubleClickItem",value:function(e){alert("I got double-clicked!")}},{key:"getDates",value:function(e,t){var a=[],n=z()(e);for(t=z()(t);n<=t;)a.push(z()(n).format("YYYY")),n=z()(n).add(1,"year");return a}},{key:"render",value:function(){for(var e=this,t=this.weekdayshort.map(function(e){return s.a.createElement("th",{key:e},e)}),a=[],n=0;n<this.firstDayOfMonth();n++)a.push(s.a.createElement("td",{className:"calendar-day empty"},""));for(var o=[],r=1;r<=this.daysInMonth();r++){var c=r==this.currentDay()?"today":"";o.push(s.a.createElement("td",{key:r,className:"calendar-day TEST ".concat(c)},s.a.createElement(ee,{day:r,posts:this.state.posts,month:this.props.match.params.month,clientId:this.props.match.params.clientId,history:this.props.history}),s.a.createElement(l.b,{to:"/add-post/2019/".concat(this.props.match.params.month,"/").concat(r,"/").concat(this.props.match.params.clientId)},"+")))}var i=[].concat(a,o),u=[],h=[];i.forEach(function(e,t){t%7!==0?h.push(e):(u.push(h),(h=[]).push(e)),t===i.length-1&&u.push(h)});var d=u.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("div",{className:"tail-datetime-calendar"},s.a.createElement("div",{className:"calendar-navi"},s.a.createElement("span",{onClick:function(t){e.onPrev()},class:"calendar-button button-prev"}),!this.state.showMonthTable&&!this.state.showYearEditor&&s.a.createElement("span",{onClick:function(t){e.showMonth()},class:"calendar-label"},this.month(),","),s.a.createElement("span",{className:"calendar-label",onClick:function(t){e.showYearEditor()}},this.year()),s.a.createElement("span",{onClick:function(t){e.onNext()},className:"calendar-button button-next"})),s.a.createElement("div",{className:"calendar-date"},this.state.showYearNav&&s.a.createElement(this.YearTable,{props:this.year()}),this.state.showMonthTable&&s.a.createElement(this.MonthList,{data:z.a.months()})),this.state.showCalendarTable&&s.a.createElement("div",{className:"calendar-date"},s.a.createElement("table",{className:"calendar-day"},s.a.createElement("thead",null,s.a.createElement("tr",null,t)),s.a.createElement("tbody",null,d))))}}]),t}(s.a.Component),le=Object(te.c)(u(re)),ce=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).submitForm=function(e){e.preventDefault(),a.props.firebase.addDate(a.props.match.params.id,a.state.month,a.state.year),a.setState({showAddDate:!a.state.showAddDate,dates:[]}),a.props.firebase.getDates(a.props.match.params.id).then(function(e){console.log(e.docs),e.docs.map(function(e){console.log(e.data(),"item");var t={},n=a.state.date;t.month=e.data().month,t.year=e.data().year,n.push(t),a.setState({date:n}),console.log(a.state,"state after render"),console.log(n,"date array")})})},a.handleMonth=function(e){console.log(e.target.value,"month event"),a.setState({month:e.target.value})},a.handleYear=function(e){console.log(e,"year event"),a.setState({year:e.target.value})},a.redirectDate=function(){console.log("hello")},a.state={user:null,showAddDate:!1,date:[],month:1,year:2019,chosenMonth:"",chosenYear:"",showCalendar:!1,clientId:"",passDates:function(e,t){a.setState({chosenMonth:e,chosenYear:t,showCalendar:!0})}},a.submitForm=a.submitForm.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.firstRender()}},{key:"componentDidMount",value:function(){var e=this,t=window.location.href,a=new URL(t).searchParams.get("clientId");this.setState({clientId:a},function(){localStorage.setItem("clientId",e.state.clientId)}),console.log(a,"c")}},{key:"toggleAddDate",value:function(){this.setState({showAddDate:!this.state.showAddDate})}},{key:"firstRender",value:function(){var e=this;this.props.firebase.getDates(this.props.match.params.id).then(function(t){console.log(t.docs),t.docs.map(function(t){console.log(t.data(),"item");var a={},n=e.state.date;a.month=t.data().month,a.year=t.data().year,n.push(a),e.setState({date:n}),console.log(e.state,"state after render"),console.log(n,"date array")})})}},{key:"convert",value:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e-=1]}},{key:"passDates",value:function(){console.log("clicked"),console.log(this.props)}},{key:"render",value:function(){var e=this,t=this.state.date.map(function(t){return s.a.createElement(l.b,{to:"/calendar/".concat(t.year,"/").concat(t.month,"/").concat(e.state.clientId)},e.convert(t.month)," ",t.year,s.a.createElement("br",null))});return console.log(this.state,"state in render"),s.a.createElement("div",null,s.a.createElement(l.b,{to:"/Home"},"Back"),s.a.createElement("br",null),this.props.match.params.id,s.a.createElement("br",null),"Dates",t,this.state.showAddDate?s.a.createElement("form",{className:"add-date-form",onSubmit:this.submitForm.bind(this)},s.a.createElement("button",{onClick:this.toggleAddDate.bind(this),className:"toggle-close"},"Close"),s.a.createElement("select",{onChange:this.handleMonth.bind(this),value:this.state.value},s.a.createElement("option",{value:"1"},"January"),s.a.createElement("option",{value:"2"},"February"),s.a.createElement("option",{value:"3"},"March"),s.a.createElement("option",{value:"4"},"April"),s.a.createElement("option",{value:"5"},"May"),s.a.createElement("option",{value:"6"},"June"),s.a.createElement("option",{value:"7"},"July"),s.a.createElement("option",{value:"8"},"August"),s.a.createElement("option",{value:"9"},"September"),s.a.createElement("option",{value:"10"},"October"),s.a.createElement("option",{value:"11"},"November"),s.a.createElement("option",{value:"12"},"December")),s.a.createElement("select",{onChange:this.handleYear.bind(this)},s.a.createElement("option",{value:"2019"},"2019"),s.a.createElement("option",{value:"2020"},"2020")),s.a.createElement("input",{type:"submit",value:"Submit"})):"",this.state.showCalender?s.a.createElement(le,{impData:this.state}):"","}",s.a.createElement("button",{onClick:this.toggleAddDate.bind(this)},"Add New"))}}]),t}(n.Component),ie=Object(w.a)(u(ce)),ue=a(39),he=a(107),de=a.n(he),me=(a(474),a(229)),pe=a.n(me),be=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).fileChangeHandler=function(e){e.target.files;var t=a.state.filesArr;a.setState({files:t})},a.handleColorText=function(e){a.setState({pushColorText:e.target.value})},a.handleUpload=function(e){},a.handleSuccess=function(e){},a.onChange=function(e){return a.setState({time:e})},a.showCategory=function(e){e.preventDefault(),a.setState({showCategoryState:!a.state.showCategoryState})},a.handleTitle=function(e){a.setState({title:e.target.value})},a.handleCopy=function(e){a.setState({copy:e.target.value})},a.handleHashtags=function(e){a.setState({hashtags:e.target.value})},a.onChangeTime=function(e){a.setState({time:e})},a.onSubmitForm=function(e){e.preventDefault(),console.log(a.props.match.params.clientId);var t=a.state.title.toLowerCase().replace(/ /g,"-"),n=(a.state.calendarMonth,a.props.match.params.clientId);a.props.firebase.addPost(n,a.state.title,a.state.copy,a.state.hashtags,a.state.time,parseInt(a.props.match.params.day),parseInt(a.props.match.params.month),a.state.values,a.state.metaImageFiles,t,!1),a.props.history.push("/calendar/2019/".concat(a.props.match.params.month,"/").concat(a.props.match.params.clientId))},a.addFile=function(e){var t=Array.from(e.target.files);if(1===t.length)a.setState(Object(T.a)({file:Object(ue.a)(a.state.file)},"file",t));else if(t.length>1){var n=[];t.map(function(e){n.push(e)}),a.setState({file:n})}},a.uploadFiles=function(e){e.preventDefault();var t=a.props.firebase.storage;alert(a.state.file.length);var n=[];a.state.file.forEach(function(e){var s;switch(e.type){case"video/mp4":s="video";break;case"image/png":case"image/jpeg":s="image";break;default:s=""}var o=encodeURIComponent(a.state.clientId)+encodeURIComponent("/")+a.state.calendarMonth+encodeURIComponent("-")+a.state.calendarDay+encodeURIComponent("/")+e.name+"?alt=media&type="+s,r="https://firebasestorage.googleapis.com/v0/b/skylar-social-17190.appspot.com/o/".concat(o);n.push(r),t.ref().child("".concat(a.state.clientId,"/").concat(a.state.calendarMonth,"-").concat(a.state.calendarDay,"/").concat(e.name)).put(e)}),a.setState({metaImageFiles:n})},a.showState=function(e){e.preventDefault(),console.log(a.state)},a.state={title:"",copy:"",values:[],time:"10:00",hashtags:[],filesArr:[],image:"",imageURL:"",progress:0,showCategoryState:!1,pushColor:"",pushColorText:"",clientId:"",calendarDay:0,calendarMonth:0,calendarYear:2019,postId:"",file:[],metaImageFiles:["No Files"]},a.handleTitle=a.handleTitle.bind(Object(_.a)(a)),a.renderAddLinks=a.renderAddLinks.bind(Object(_.a)(a)),a.handleUpload=a.handleUpload.bind(Object(_.a)(a)),a.fileChangeHandler=a.fileChangeHandler.bind(Object(_.a)(a)),a.onSubmitForm=a.onSubmitForm.bind(Object(_.a)(a)),a.showCategory=a.showCategory.bind(Object(_.a)(a)),a.handleColorText=a.handleColorText.bind(Object(_.a)(a)),a.onChangeTime=a.onChangeTime.bind(Object(_.a)(a)),a.addFile=a.addFile.bind(Object(_.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props,"addpost");var e=window.location.href,t=new URL(e),a=t.searchParams.get("clientId"),n=parseInt(t.searchParams.get("day")),s=parseInt(t.searchParams.get("month"));console.log(a," this is the client Id after it has mounted"),this.setState({clientId:a,calendarDay:n,calendarMonth:s})}},{key:"renderAddLinks",value:function(){document.getElementById("link-container"),this.setState(function(e){return{inputs:[].concat(Object(ue.a)(e.inputs),[""])}})}},{key:"handleChangeText",value:function(e,t){var a=Object(ue.a)(this.state.colors);a[e]=t.target.value,this.setState({colors:a})}},{key:"createUI",value:function(){var e=this;return this.state.values.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("input",{type:"text",value:t||"",onChange:e.handleChange.bind(e,a)}),s.a.createElement("input",{type:"button",value:"remove",onClick:e.removeClick.bind(e,a)}))})}},{key:"handleChange",value:function(e,t){var a=Object(ue.a)(this.state.values);a[e]=t.target.value,this.setState({values:a})}},{key:"addClick",value:function(){this.setState(function(e){return{values:[].concat(Object(ue.a)(e.values),[""])}})}},{key:"removeClick",value:function(e){var t=Object(ue.a)(this.state.values);t.splice(e,1),this.setState({values:t})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.values.join(", ")),e.preventDefault()}},{key:"submitFile",value:function(e){e.preventDefault(),this.props.firebase.getStorage.child("images")}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.onSubmitForm},s.a.createElement("label",null,"Title",s.a.createElement("input",{name:"title",value:this.state.value,onChange:this.handleTitle,required:!0})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("label",null,"Copy",s.a.createElement("textarea",{name:"copy",value:this.state.value,onChange:this.handleCopy})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("label",null,"Hashtags",s.a.createElement("input",{name:"hashtags",value:this.state.value,onChange:this.handleHashtags})),s.a.createElement("br",null),this.createUI(),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("input",{type:"button",value:"Add More",onClick:this.addClick.bind(this)}),s.a.createElement("input",{type:"submit",value:"Submit"}),s.a.createElement(de.a,{onChange:this.onChangeTime,value:this.state.time}),s.a.createElement("input",{type:"file",multiple:!0,onChange:this.addFile}),s.a.createElement("button",{onClick:this.uploadFiles},"Upload Files")),this.state.showCategoryState?s.a.createElement(pe.a,null):"",s.a.createElement("button",{onClick:this.showState.bind(this)},"Show State"))}}]),t}(n.Component),fe=Object(te.c)(u(be)),ge=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).getType=function(e){if("No Files"!==e){var t=new URL(e).search;return new URLSearchParams(t).get("type")}},a.handlePostTitle=function(e){a.setState({postTitle:e.target.value})},a.handlePostCopy=function(e){a.setState({postCopy:e.target.value})},a.editPostSubmit=function(e){e.preventDefault(),a.props.firebase.editPostSubmit(a.props.match.params.clientId,a.props.match.params.postId,a.state.postTitle,a.state.postCopy,a.state.postHashtags,a.state.postTime,a.state.values),a.props.history.push("/calendar/2019/".concat(a.props.match.params.month,"/").concat(a.props.match.params.clientId))},a.deletePost=function(){return window.confirm("Are you sure you wish to delete this item?")&&(a.props.firebase.deletePost(a.props.match.params.clientId,a.props.match.params.postId),a.props.history.push("/calendar/2019/".concat(a.props.match.params.month,"/").concat(a.props.match.params.clientId))),!1},a.state={post:null,postTitle:"",postCopy:"",postHashtags:"",postTime:"",values:[],firestorageRef:a.props.firebase.storage,metaImageFiles:[]},a.handlePostTitle=a.handlePostTitle.bind(Object(_.a)(a)),a.editPostSubmit=a.editPostSubmit.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.editPostFirebase(this.props.match.params.clientId,this.props.match.params.postId).then(function(t){e.setState({postTitle:t.data().title,postCopy:t.data().copy,postHashtags:t.data().hashtags,postTime:t.data().time,values:t.data().links,metaImageFiles:t.data().metaImageFiles})}),console.log(this.state,"state after mount")}},{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e,t){var a=Object(ue.a)(this.state.values);a[e]=t.target.value,this.setState({values:a})}},{key:"createUI",value:function(){var e=this;return this.state.values.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("input",{type:"text",value:t||"",onChange:e.handleChange.bind(e,a)}),s.a.createElement("input",{type:"button",value:"remove",onClick:e.removeClick.bind(e,a)}))})}},{key:"removeClick",value:function(e){var t=Object(ue.a)(this.state.values);t.splice(e,1),this.setState({values:t})}},{key:"render",value:function(){var e=this,t=this.state.metaImageFiles.map(function(t){return"video"==e.getType(t)?s.a.createElement("video",{height:"200",width:"200",controls:!0},s.a.createElement("source",{src:t})):s.a.createElement("img",{src:t,onError:"this.style.display='none'"})});return s.a.createElement("div",null," Edit Posts",s.a.createElement("form",{onSubmit:this.editPostSubmit},"Title",s.a.createElement("input",{name:"title",value:this.state.postTitle,onChange:this.handlePostTitle}),s.a.createElement("br",null),"Copy",s.a.createElement("textarea",{name:"copy",onChange:this.handlePostCopy,value:this.state.postCopy}),s.a.createElement("br",null),"Hashtags",s.a.createElement("input",{name:"hashtags",value:this.state.postHashtags}),s.a.createElement("br",null),s.a.createElement(de.a,{onChange:this.onChangeTime,value:this.state.postTime}),this.state.values&&this.createUI(),s.a.createElement("input",{type:"submit",value:"Submit Edits"})),s.a.createElement("button",{onClick:this.deletePost},"Delete"),t)}}]),t}(n.Component),ve=Object(te.c)(u,Object(Y.b)(null,function(e){return{getPost:function(t){return e({type:"GET_POST",post:t})}}}))(ge),Ee=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={name:"",greeting:""},a.handleChange=a.handleChange.bind(Object(_.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/api/greeting?name=".concat(encodeURIComponent(this.state.name))).then(function(e){return e.json()}).then(function(e){return t.setState(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("p",null,"Edit ",s.a.createElement("code",null,"src/App.js")," and save to reload."),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"name"},"Enter your name: "),s.a.createElement("input",{id:"name",type:"text",value:this.state.name,onChange:this.handleChange}),s.a.createElement("button",{type:"submit"},"Submit")),s.a.createElement("p",null,this.state.greeting),s.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))}}]),t}(n.Component),ye=(a(575),a(576),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).getMonthFromString=function(e){return new Date(Date.parse(e+" 1, 2012")).getMonth()+1},a.state={posts:[],currentPosts:[]},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.getMonthFromString(this.props.month);console.log(t,"link month");var a=this.props.posts.filter(function(t){return t.data().day==e.props.day}).map(function(a){var n=a.data().title.toLowerCase().replace(/ /g,"-");a.id;return s.a.createElement("div",null,s.a.createElement(l.b,{to:"/view-post/".concat(t,"/").concat(e.props.day,"/").concat(n)},a.data().title," ",s.a.createElement("br",null)),a.data().approved?"checked":"Not checked")});return s.a.createElement("div",null,this.props.day,a)}}]),t}(n.Component)),Oe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).weekdayshort=z.a.weekdaysShort(),a.state={showYearTable:!1,showMonthTable:!1,showDateTable:!0,dateObject:z()(),allmonths:z.a.months(),selectedDay:null,currentMonth:parseInt(z()().format("M")),currentPosts:[]},a.daysInMonth=function(){return a.state.dateObject.daysInMonth()},a.year=function(){return a.state.dateObject.format("Y")},a.currentDay=function(){return a.state.dateObject.format("D")},a.firstDayOfMonth=function(){var e=a.state.dateObject;return z()(e).startOf("month").format("d")},a.month=function(){return a.state.dateObject.format("MMMM")},a.showMonth=function(e,t){a.setState({showMonthTable:!a.state.showMonthTable,showDateTable:!a.state.showDateTable})},a.setMonth=function(e){var t=a.state.allmonths.indexOf(e),n=Object.assign({},a.state.dateObject);n=z()(n).set("month",t),a.setState({dateObject:n,showMonthTable:!a.state.showMonthTable,showDateTable:!a.state.showDateTable})},a.MonthList=function(e){var t=[];e.data.map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setMonth(e)}},s.a.createElement("span",null,e)))});var n=[],o=[];t.forEach(function(e,t){t%3!==0||0==t?o.push(e):(n.push(o),(o=[]).push(e))}),n.push(o);var r=n.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Month"))),s.a.createElement("tbody",null,r))},a.showYearTable=function(e){a.setState({showYearTable:!a.state.showYearTable,showDateTable:!a.state.showDateTable})},a.onPrev=function(){var e="";e=!0===a.state.showYearTable?"year":"month",a.props.history.push("/client-calendar/2019/".concat(parseInt(a.props.match.params.month)-1)),a.props.firebase.getUniqueClientPosts(localStorage.getItem("userId"),parseInt(a.props.match.params.month)+1).then(function(t){a.setState({currentPosts:t.docs,dateObject:a.state.dateObject.subtract(1,e)})})},a.onNext=function(){var e="";e=!0===a.state.showYearTable?"year":"month",a.props.history.push("/client-calendar/2019/".concat(parseInt(a.props.match.params.month)+1)),a.props.firebase.getUniqueClientPosts(localStorage.getItem("userId"),parseInt(a.props.match.params.month)+1).then(function(t){a.setState({currentPosts:t.docs,dateObject:a.state.dateObject.add(1,e)})})},a.setYear=function(e){var t=Object.assign({},a.state.dateObject);t=z()(t).set("year",e),a.setState({dateObject:t,showMonthTable:!a.state.showMonthTable,showYearTable:!a.state.showYearTable})},a.onYearChange=function(e){a.setYear(e.target.value)},a.getState=function(e){e.preventDefault(),console.log(a.state.currentPosts)},a.YearTable=function(e){var t=[],n=z()().set("year",e).add("year",12).format("Y");a.getDates(e,n).map(function(e){t.push(s.a.createElement("td",{key:e,className:"calendar-month",onClick:function(t){a.setYear(e)}},s.a.createElement("span",null,e)))});var o=[],r=[];t.forEach(function(e,t){t%3!==0||0==t?r.push(e):(o.push(r),(r=[]).push(e))}),o.push(r);var l=o.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("table",{className:"calendar-month"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"4"},"Select a Yeah"))),s.a.createElement("tbody",null,l))},a.onDayClick=function(e,t){a.setState({selectedDay:t},function(){console.log("SELECTED DAY: ",a.state.selectedDay)})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getUniqueClientPosts(localStorage.getItem("userId"),this.state.currentMonth).then(function(t){e.setState({currentPosts:t.docs})})}},{key:"getDates",value:function(e,t){var a=[],n=z()(e);for(t=z()(t);n<=t;)a.push(z()(n).format("YYYY")),n=z()(n).add(1,"year");return a}},{key:"render",value:function(){for(var e=this,t=this.weekdayshort.map(function(e){return s.a.createElement("th",{key:e},e)}),a=[],n=0;n<this.firstDayOfMonth();n++)a.push(s.a.createElement("td",{className:"calendar-day empty"},""));for(var o=[],r=1;r<=this.daysInMonth();r++){console.log(this.state.currentPosts,"current posts");var l=r==this.currentDay()?"today":"",c=this.month();o.push(s.a.createElement("td",{key:r,className:"calendar-day ".concat(l)},s.a.createElement(ye,{day:r,month:c,posts:this.state.currentPosts})))}var i=[].concat(a,o),u=[],h=[];i.forEach(function(e,t){t%7!==0?h.push(e):(u.push(h),(h=[]).push(e)),t===i.length-1&&u.push(h)});var d=u.map(function(e,t){return s.a.createElement("tr",null,e)});return s.a.createElement("div",{className:"tail-datetime-calendar"},s.a.createElement("div",{className:"calendar-navi"},s.a.createElement("span",{onClick:function(t){e.onPrev()},class:"calendar-button button-prev"}),!this.state.showMonthTable&&s.a.createElement("span",{onClick:function(t){e.showMonth()},class:"calendar-label"},this.month()),s.a.createElement("span",{className:"calendar-label",onClick:function(t){return e.showYearTable()}},this.year()),s.a.createElement("span",{onClick:function(t){e.onNext()},className:"calendar-button button-next"})),s.a.createElement("div",{className:"calendar-date"},this.state.showYearTable&&s.a.createElement(this.YearTable,{props:this.year()}),this.state.showMonthTable&&s.a.createElement(this.MonthList,{data:z.a.months()})),this.state.showDateTable&&s.a.createElement("div",{className:"calendar-date"},s.a.createElement("table",{className:"calendar-day"},s.a.createElement("thead",null,s.a.createElement("tr",null,t)),s.a.createElement("tbody",null,d))),s.a.createElement("button",{onClick:this.getState.bind(this)},"Get state"))}}]),t}(s.a.Component),Ce=Object(w.a)(u(Oe)),we=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.media.map(function(e){switch(console.log(e),function(e){if("No Files"!==e){var t=new URL(e).search;return new URLSearchParams(t).get("type")}}(e)){case"image":return s.a.createElement("img",{src:e,style:{width:200,height:200}});case"video":return s.a.createElement("div",null,s.a.createElement("video",{height:"200",width:"200",controls:!0},s.a.createElement("source",{src:e})));default:return s.a.createElement("div",null,"File Not Supported")}}))}}]),t}(n.Component),je=function(e){function t(){return Object(d.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,"Client ChatBox")}}]),t}(n.Component),Se=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={messsages:[]},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,"Main Chatlog")}}]),t}(n.Component),ke=Object(w.a)(u,Object(Y.b)(null,null))(Se),Ie=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleCheckbox=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value;a.setState({approved:n})},a.approveFormSubmit=function(e){e.preventDefault(),a.props.firebase.approvePost(a.state.userId,a.state.postId,a.state.approved)},a.showPopUp=function(e){e.preventDefault(),a.setState({showPopUp:!a.state.showPopUp})},a.state={userId:localStorage.userId,post:[],media:[],hashtags:[],links:[],approved:!1,postId:"",showPopUp:!1},a.handleCheckbox=a.handleCheckbox.bind(Object(_.a)(a)),a.approveFormSubmit=a.approveFormSubmit.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.getSinglePost(this.state.userId,parseInt(this.props.match.params.month),parseInt(this.props.match.params.day),this.props.match.params.id).then(function(t){t.docs.map(function(t){e.setState({post:t,media:t.data().metaImageFiles,title:t.data().title,copy:t.data().copy,hashtags:t.data().hashtags.split(" "),links:t.data().links,postId:t.id,approved:t.data().approved})})})}},{key:"render",value:function(){console.log(this.state.approved,"approved");return s.a.createElement(s.a.Fragment,null,this.state.showPopUp?s.a.createElement("div",{style:{width:500,height:500,background:"red",position:"fixed",zIndex:1}},"You have changed the approval of this post",s.a.createElement("button",{onClick:this.showPopUp},"Close")):"",s.a.createElement("p",null,this.state.title),s.a.createElement("div",{className:"media-text-wrapper row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(we,{media:this.state.media})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("p",null,"Copy"),s.a.createElement("p",null,this.state.copy)),s.a.createElement("div",{className:"col-sm-12"},this.state.hashtags.map(function(e){return s.a.createElement("div",null,"#",e)}),s.a.createElement("br",null),this.state.links.map(function(e){return s.a.createElement("div",null,e)}))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("form",{onSubmit:this.approveFormSubmit,id:"approve-form",style:{margin:200,width:300,height:300}},s.a.createElement("label",null,this.state.approved?s.a.createElement("p",null,"You have approved this post"):s.a.createElement("p",null,"You have not approved this post"),s.a.createElement("input",{name:"approve",type:"checkbox",id:"approve-checkbox",onChange:this.handleCheckbox,checked:this.state.approved})),s.a.createElement("button",{onClick:this.approveFormSubmit},"Submit"))),s.a.createElement("div",{id:"chat-wrapper"},s.a.createElement(je,null),s.a.createElement(ke,null)))}}]),t}(n.Component),Me=Object(te.c)(u(Ie)),De=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).setMessage=function(e){e.preventDefault(),a.setState({message:e.target.value})},a.submitMessage=function(e){e.preventDefault();var t=a.props.id,n=parseInt(a.props.month),s=parseInt(a.props.day),o=a.props.title,r=a.state.message;a.props.firebase.postMessage(t,n,s,o,r)},a.state={message:""},a.setMessage=a.setMessage.bind(Object(_.a)(a)),a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.submitMessage},s.a.createElement("textarea",{onChange:this.setMessage,value:this.state.message}),s.a.createElement("button",{onClick:this.submitMessage},"Submit"))}}]),t}(n.Component),Te=Object(w.a)(u(De)),Pe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={messages:[]},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(this.props,"props in mounted compoennt"),this.props.firebase.getMessages(this.props.id,parseInt(this.props.month),parseInt(this.props.day)).then(function(t){e.setState({messages:t.docs})})}},{key:"componentDidMount",value:function(){console.log(typeof this.props.day,"day"),console.log(this.props.month,"month"),console.log(this.state.messages,"messages")}},{key:"componentWillUnmount",value:function(){this.setState({messages:[]})}},{key:"render",value:function(){console.log(this.state.messages,"messages");var e={width:100,height:100},t=this.state.messages.map(function(t){return s.a.createElement("li",{className:"row"},s.a.createElement("div",null,s.a.createElement("img",{src:t.data().logo,style:e}),s.a.createElement("p",null,t.data().user)),s.a.createElement("p",null,t.data().message))});return s.a.createElement("div",null,t)}}]),t}(n.Component),Ue=Object(w.a)(u(Pe)),Ne=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).getMessage=function(e){},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Te,{getMessage:this.getMessage,month:this.props.match.params.month,day:this.props.match.params.day,title:this.props.match.params.title,id:this.props.match.params.client}),s.a.createElement(Ue,{month:this.props.match.params.month,day:this.props.match.params.day,title:this.props.match.params.title,id:this.props.match.params.client}))}}]),t}(n.Component),Ae=Object(w.a)(u(Ne)),Ye=C(function(){return s.a.createElement(l.a,null,s.a.createElement("div",null,s.a.createElement(M,null),s.a.createElement("hr",null),s.a.createElement(c.a,{path:"/add-post/:year/:month/:day/:clientId",component:fe}),s.a.createElement(c.a,{path:"/signup",component:A}),s.a.createElement(c.a,{path:"/signin",component:W}),s.a.createElement(c.a,{exact:!0,path:j,component:J}),s.a.createElement(c.a,{path:"/clients",component:G}),s.a.createElement(c.a,{path:"/dates/:id",component:ie}),s.a.createElement(c.a,{path:"/edit-post/:month/:day/:postId/:clientId",component:ve}),s.a.createElement(c.a,{calenderHere:!0,path:"/calendar",component:le}),s.a.createElement(c.a,{exact:!0,path:"/calendar-single/:year/:month:day",component:ee}),s.a.createElement(c.a,{exact:!0,path:"/server",component:Ee}),s.a.createElement(c.a,{path:"/client-calendar/:year/:month",component:Ce}),s.a.createElement(c.a,{path:"/view-post/:month/:day/:id",component:Me}),s.a.createElement(c.a,{path:"/admin-view-post/:month/:day/:title/:client",component:Ae}),s.a.createElement(c.a,{path:"/calendar/:year/:month/:clientId",component:le})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe={data:[]},xe=function(e,t){return console.log(t,"action in clients"),Object(D.a)({},e,{data:t.clients})};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CLIENTS":return xe(e,t);default:return e}},Re={post:null},He=function(e,t){return console.log(t,"action in clients"),Object(D.a)({},e,{data:t.post})};var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POST":return He(e,t);default:return e}},_e={userId:""},Be=function(e,t){return Object(D.a)({},e,{userId:t.authUser})};var Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_ID":return Be(e,t);default:return e}},Ge=Object(te.b)({setClientsReducer:Le,editPostReducer:We,userInfoReducer:Je}),qe=Object(te.d)(Ge);r.a.render(s.a.createElement(Y.a,{store:qe},s.a.createElement(h.Provider,{value:new f},s.a.createElement(Ye,{name:"this is a name"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[230,1,2]]]);
//# sourceMappingURL=main.f04b86cf.chunk.js.map